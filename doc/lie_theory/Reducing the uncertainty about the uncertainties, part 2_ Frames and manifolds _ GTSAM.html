<!DOCTYPE html>
<!-- saved from url=(0053)https://gtsam.org/2021/02/23/uncertainties-part2.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Reducing the uncertainty about the uncertainties, part 2: Frames and manifolds | GTSAM</title>
<meta name="generator" content="Jekyll v3.9.0">
<meta property="og:title" content="Reducing the uncertainty about the uncertainties, part 2: Frames and manifolds">
<meta property="og:locale" content="en_US">
<meta name="description" content="GTSAM is a BSD-licensed C++ library that implements sensor fusion for robotics and computer vision using factor graphs.">
<meta property="og:description" content="GTSAM is a BSD-licensed C++ library that implements sensor fusion for robotics and computer vision using factor graphs.">
<link rel="canonical" href="http://gtsam.org/2021/02/23/uncertainties-part2.html">
<meta property="og:url" content="http://gtsam.org/2021/02/23/uncertainties-part2.html">
<meta property="og:site_name" content="GTSAM">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-02-23T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Reducing the uncertainty about the uncertainties, part 2: Frames and manifolds">
<script async="" src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/analytics.js"></script><script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-02-23T00:00:00+00:00","datePublished":"2021-02-23T00:00:00+00:00","description":"GTSAM is a BSD-licensed C++ library that implements sensor fusion for robotics and computer vision using factor graphs.","headline":"Reducing the uncertainty about the uncertainties, part 2: Frames and manifolds","mainEntityOfPage":{"@type":"WebPage","@id":"http://gtsam.org/2021/02/23/uncertainties-part2.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://gtsam.org/favicon.png"}},"url":"http://gtsam.org/2021/02/23/uncertainties-part2.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/main.css"><link type="application/atom+xml" rel="alternate" href="http://gtsam.org/feed.xml" title="GTSAM"><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-312077-3', 'auto');
  ga('send', 'pageview');
}
</script>
  
<link rel="stylesheet" href="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.mjx-chtml {display: inline-block; line-height: 0; text-indent: 0; text-align: left; text-transform: none; font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; letter-spacing: normal; word-wrap: normal; word-spacing: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; margin: 0; padding: 1px 0}
.MJXc-display {display: block; text-align: center; margin: 1em 0; padding: 0}
.mjx-chtml[tabindex]:focus, body :focus .mjx-chtml[tabindex] {display: inline-table}
.mjx-full-width {text-align: center; display: table-cell!important; width: 10000em}
.mjx-math {display: inline-block; border-collapse: separate; border-spacing: 0}
.mjx-math * {display: inline-block; -webkit-box-sizing: content-box!important; -moz-box-sizing: content-box!important; box-sizing: content-box!important; text-align: left}
.mjx-numerator {display: block; text-align: center}
.mjx-denominator {display: block; text-align: center}
.MJXc-stacked {height: 0; position: relative}
.MJXc-stacked > * {position: absolute}
.MJXc-bevelled > * {display: inline-block}
.mjx-stack {display: inline-block}
.mjx-op {display: block}
.mjx-under {display: table-cell}
.mjx-over {display: block}
.mjx-over > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-under > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-stack > .mjx-sup {display: block}
.mjx-stack > .mjx-sub {display: block}
.mjx-prestack > .mjx-presup {display: block}
.mjx-prestack > .mjx-presub {display: block}
.mjx-delim-h > .mjx-char {display: inline-block}
.mjx-surd {vertical-align: top}
.mjx-mphantom * {visibility: hidden}
.mjx-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 2px 3px; font-style: normal; font-size: 90%}
.mjx-annotation-xml {line-height: normal}
.mjx-menclose > svg {fill: none; stroke: currentColor}
.mjx-mtr {display: table-row}
.mjx-mlabeledtr {display: table-row}
.mjx-mtd {display: table-cell; text-align: center}
.mjx-label {display: table-row}
.mjx-box {display: inline-block}
.mjx-block {display: block}
.mjx-span {display: inline}
.mjx-char {display: block; white-space: pre}
.mjx-itable {display: inline-table; width: auto}
.mjx-row {display: table-row}
.mjx-cell {display: table-cell}
.mjx-table {display: table; width: 100%}
.mjx-line {display: block; height: 0}
.mjx-strut {width: 0; padding-top: 1em}
.mjx-vsize {width: 0}
.MJXc-space1 {margin-left: .167em}
.MJXc-space2 {margin-left: .222em}
.MJXc-space3 {margin-left: .278em}
.mjx-chartest {display: block; visibility: hidden; position: absolute; top: 0; line-height: normal; font-size: 500%}
.mjx-chartest .mjx-char {display: inline}
.mjx-chartest .mjx-box {padding-top: 1000px}
.MJXc-processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MJXc-processed {display: none}
.mjx-test {font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow: hidden; height: 1px}
.mjx-test.mjx-test-display {display: table!important}
.mjx-test.mjx-test-inline {display: inline!important; margin-right: -1px}
.mjx-test.mjx-test-default {display: block!important; clear: both}
.mjx-ex-box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60ex}
.mjx-test-inline .mjx-left-box {display: inline-block; width: 0; float: left}
.mjx-test-inline .mjx-right-box {display: inline-block; width: 0; float: right}
.mjx-test-display .mjx-right-box {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
#MathJax_CHTML_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.mjx-chtml .mjx-noError {line-height: 1.2; vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
.MJXc-TeX-unknown-R {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: normal; font-weight: normal}
.MJXc-TeX-unknown-I {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: italic; font-weight: normal}
.MJXc-TeX-unknown-B {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: normal; font-weight: bold}
.MJXc-TeX-unknown-BI {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: italic; font-weight: bold}
.MJXc-TeX-ams-R {font-family: MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}
.MJXc-TeX-cal-B {font-family: MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}
.MJXc-TeX-frak-R {font-family: MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}
.MJXc-TeX-frak-B {font-family: MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}
.MJXc-TeX-math-BI {font-family: MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}
.MJXc-TeX-sans-R {font-family: MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}
.MJXc-TeX-sans-B {font-family: MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}
.MJXc-TeX-sans-I {font-family: MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}
.MJXc-TeX-script-R {font-family: MJXc-TeX-script-R,MJXc-TeX-script-Rw}
.MJXc-TeX-type-R {font-family: MJXc-TeX-type-R,MJXc-TeX-type-Rw}
.MJXc-TeX-cal-R {font-family: MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}
.MJXc-TeX-main-B {font-family: MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}
.MJXc-TeX-main-I {font-family: MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}
.MJXc-TeX-main-R {font-family: MJXc-TeX-main-R,MJXc-TeX-main-Rw}
.MJXc-TeX-math-I {font-family: MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}
.MJXc-TeX-size1-R {font-family: MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}
.MJXc-TeX-size2-R {font-family: MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}
.MJXc-TeX-size3-R {font-family: MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}
.MJXc-TeX-size4-R {font-family: MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}
.MJXc-TeX-vec-R {font-family: MJXc-TeX-vec-R,MJXc-TeX-vec-Rw}
.MJXc-TeX-vec-B {font-family: MJXc-TeX-vec-B,MJXc-TeX-vec-Bx,MJXc-TeX-vec-Bw}
@font-face {font-family: MJXc-TeX-ams-R; src: local('MathJax_AMS'), local('MathJax_AMS-Regular')}
@font-face {font-family: MJXc-TeX-ams-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-B; src: local('MathJax_Caligraphic Bold'), local('MathJax_Caligraphic-Bold')}
@font-face {font-family: MJXc-TeX-cal-Bx; src: local('MathJax_Caligraphic'); font-weight: bold}
@font-face {font-family: MJXc-TeX-cal-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-R; src: local('MathJax_Fraktur'), local('MathJax_Fraktur-Regular')}
@font-face {font-family: MJXc-TeX-frak-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-B; src: local('MathJax_Fraktur Bold'), local('MathJax_Fraktur-Bold')}
@font-face {font-family: MJXc-TeX-frak-Bx; src: local('MathJax_Fraktur'); font-weight: bold}
@font-face {font-family: MJXc-TeX-frak-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-BI; src: local('MathJax_Math BoldItalic'), local('MathJax_Math-BoldItalic')}
@font-face {font-family: MJXc-TeX-math-BIx; src: local('MathJax_Math'); font-weight: bold; font-style: italic}
@font-face {font-family: MJXc-TeX-math-BIw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-R; src: local('MathJax_SansSerif'), local('MathJax_SansSerif-Regular')}
@font-face {font-family: MJXc-TeX-sans-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-B; src: local('MathJax_SansSerif Bold'), local('MathJax_SansSerif-Bold')}
@font-face {font-family: MJXc-TeX-sans-Bx; src: local('MathJax_SansSerif'); font-weight: bold}
@font-face {font-family: MJXc-TeX-sans-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-I; src: local('MathJax_SansSerif Italic'), local('MathJax_SansSerif-Italic')}
@font-face {font-family: MJXc-TeX-sans-Ix; src: local('MathJax_SansSerif'); font-style: italic}
@font-face {font-family: MJXc-TeX-sans-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-script-R; src: local('MathJax_Script'), local('MathJax_Script-Regular')}
@font-face {font-family: MJXc-TeX-script-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-type-R; src: local('MathJax_Typewriter'), local('MathJax_Typewriter-Regular')}
@font-face {font-family: MJXc-TeX-type-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-R; src: local('MathJax_Caligraphic'), local('MathJax_Caligraphic-Regular')}
@font-face {font-family: MJXc-TeX-cal-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-B; src: local('MathJax_Main Bold'), local('MathJax_Main-Bold')}
@font-face {font-family: MJXc-TeX-main-Bx; src: local('MathJax_Main'); font-weight: bold}
@font-face {font-family: MJXc-TeX-main-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-I; src: local('MathJax_Main Italic'), local('MathJax_Main-Italic')}
@font-face {font-family: MJXc-TeX-main-Ix; src: local('MathJax_Main'); font-style: italic}
@font-face {font-family: MJXc-TeX-main-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-R; src: local('MathJax_Main'), local('MathJax_Main-Regular')}
@font-face {font-family: MJXc-TeX-main-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-I; src: local('MathJax_Math Italic'), local('MathJax_Math-Italic')}
@font-face {font-family: MJXc-TeX-math-Ix; src: local('MathJax_Math'); font-style: italic}
@font-face {font-family: MJXc-TeX-math-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size1-R; src: local('MathJax_Size1'), local('MathJax_Size1-Regular')}
@font-face {font-family: MJXc-TeX-size1-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size2-R; src: local('MathJax_Size2'), local('MathJax_Size2-Regular')}
@font-face {font-family: MJXc-TeX-size2-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size3-R; src: local('MathJax_Size3'), local('MathJax_Size3-Regular')}
@font-face {font-family: MJXc-TeX-size3-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size4-R; src: local('MathJax_Size4'), local('MathJax_Size4-Regular')}
@font-face {font-family: MJXc-TeX-size4-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-R; src: local('MathJax_Vector'), local('MathJax_Vector-Regular')}
@font-face {font-family: MJXc-TeX-vec-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-B; src: local('MathJax_Vector Bold'), local('MathJax_Vector-Bold')}
@font-face {font-family: MJXc-TeX-vec-Bx; src: local('MathJax_Vector'); font-weight: bold}
@font-face {font-family: MJXc-TeX-vec-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Bold.otf') format('opentype')}
</style></head>


  <body class=""><div id="MathJax_Message" style="display: none;"></div><header class="header-holder site-header">

    <div class="wrapper"><a class="site-title" rel="author" href="https://gtsam.org/">GTSAM</a><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>
  
          <div class="trigger"><a class="page-link" href="https://gtsam.org/get_started/">Get Started</a><a class="page-link" href="https://gtsam.org/build/">Build</a><a class="page-link" href="https://gtsam.org/tutorials/">Tutorials</a><a class="page-link" href="https://gtsam.org/docs/">Docs</a><a class="page-link" href="https://gtsam.org/blog/">Blog</a><a class="page-link" href="https://gtsam.org/about/">About</a></div>
        </nav></div>
  </header><div class="main-background "></div>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope="" itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Reducing the uncertainty about the uncertainties, part 2: Frames and manifolds</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-02-23T00:00:00+00:00" itemprop="datePublished">Feb 23, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <article class="post">

  <div class="jumbotron jumbotron-fluid on-dark-background">
    <div class="container">
        <h1>GTSAM Posts</h1>
    </div>
</div>

  <div class="post-content">
    <link rel="stylesheet" href="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/slideshow.css">

<p>Author: <a href="https://mmattamala.github.io/">Matias Mattamala</a></p>

<div style="display:none"> <!-- custom latex commands here -->
  <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-1-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; /&gt;" role="presentation"><span id="MJXc-Node-1" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2" class="mjx-mrow"></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"></math></span></span><script type="math/tex" id="MathJax-Element-1">
    \DeclareMathOperator*{\argmin}{argmin}
    \newcommand{\coloneqq}{\mathrel{:=}}
  </script>
</div>

<style>
.MJXc-display {
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
}
.MJXc-display::-webkit-scrollbar {
    width: 5px;
    height: 2px;
}
.MJXc-display::-webkit-scrollbar-track {
    background: transparent;
}
.MJXc-display::-webkit-scrollbar-thumb {
    background: #ddd;
    visibility:hidden;
}
.MJXc-display:hover::-webkit-scrollbar-thumb {
    visibility:visible;
}
</style>
<p><!-- horizontal scrolling --></p>

<!-- - TOC   -->

<h2 id="introduction">Introduction</h2>
<p>In our <a href="https://gtsam.org/2021/02/23/uncertainties-part1.html">previous post</a> we discussed some basic concepts to solve linear and nonlinear factor graphs and to extract uncertainty estimates from them. We reviewed that the Fisher information matrix corresponds to an approximation of the inverse covariance of the solution, and that in the nonlinear case, both the solution and its covariance estimate are <strong>valid for the current linearization point only</strong>.</p>

<p>While the nonlinear case effectively allows us to model a bunch of problems, we need to admit we were not too honest when we said that it was <em>everything</em> we needed to model real problems. Our formulation so far assumed that the variables in our factor graph are <strong>vectors</strong>, which is not the case for robotics and computer vision at least.</p>

<p>This second part will review the concept of <em>manifold</em> and how the reference frames affect the formulation of our factor graph. The tools we cover here will be also useful to define probability distributions in a more general way, as well as to extend our estimation framework to more general problems.</p>

<h2 id="getting-non-euclidean">Getting non-Euclidean</h2>
<p>In robotics we do not estimate the state of a robot only by their position <em>but also its orientation</em>. Then we say that is its <strong>pose</strong>, i.e position and orientation together, what matters to define its state.</p>

<p>Representing pose is a tricky thing. We could say <em>“ok, but let’s just append the orientation to the position vector and do everything as before”</em> but that does not work in practice. Problem arises when we want to compose two poses <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-2-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-3" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-4" class="mjx-mrow"><span id="MJXc-Node-5" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-6" class="mjx-texatom"><span id="MJXc-Node-7" class="mjx-mrow"><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-9" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-10" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-11" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-12" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-13" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-14" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-15" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-16" class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-17" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-18" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-19" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-20" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-21" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-22" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-23" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-2">\mathbf{T}_1 = (x_1, y_1, \theta_1)</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-3-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-24" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-25" class="mjx-mrow"><span id="MJXc-Node-26" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-27" class="mjx-texatom"><span id="MJXc-Node-28" class="mjx-mrow"><span id="MJXc-Node-29" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-30" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span id="MJXc-Node-31" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-32" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-33" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-34" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-35" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span id="MJXc-Node-36" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-37" class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-38" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-39" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span id="MJXc-Node-40" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-41" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-42" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-43" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span id="MJXc-Node-44" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo>,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>,</mo><msub><mi>θ</mi><mn>2</mn></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3">\mathbf{T}_2 = (x_2, y_2, \theta_2)</script>. Under the vector assumption, we can write the following expression as the composition of two poses:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-4-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 17.558em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-1&quot;&gt;&lt;mtext&gt;(1)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-45" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-46" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-47" class="mjx-mtable" style="width: 100%; min-width: 21.714em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0px;"><span id="MJXc-Node-48" class="mjx-mlabeledtr" style="height: 3.83em;"><span id="MJXc-Node-52" class="mjx-mtd" style="padding: 0px; width: 17.558em;"><span id="MJXc-Node-53" class="mjx-mrow"><span id="MJXc-Node-54" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-55" class="mjx-texatom"><span id="MJXc-Node-56" class="mjx-mrow"><span id="MJXc-Node-57" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-58" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-59" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-60" class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span id="MJXc-Node-61" class="mjx-texatom"><span id="MJXc-Node-62" class="mjx-mrow"><span id="MJXc-Node-63" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-64" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span id="MJXc-Node-65" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-66" class="mjx-mrow MJXc-space3"><span id="MJXc-Node-67" class="mjx-mo" style="vertical-align: -0.996em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">⎡</span><span class="mjx-char MJXc-TeX-size4-R" style="line-height: 0.232em; margin-bottom: -0.101em; margin-top: 0px;">⎢</span><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.895em;">⎣</span></span></span><span id="MJXc-Node-68" class="mjx-mtable" style="vertical-align: -1.665em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-69" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-70" class="mjx-mtd" style="padding: 0px; width: 0.961em;"><span id="MJXc-Node-71" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-72" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-73" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-74" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-75" class="mjx-mtr" style="height: 1.43em;"><span id="MJXc-Node-76" class="mjx-mtd" style="padding: 0.2em 0px 0px;"><span id="MJXc-Node-77" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-78" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-79" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-80" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-81" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-82" class="mjx-mtd" style="padding: 0.2em 0px 0px;"><span id="MJXc-Node-83" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-84" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-85" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-86" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-87" class="mjx-mo" style="vertical-align: -0.996em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">⎤</span><span class="mjx-char MJXc-TeX-size4-R" style="line-height: 0.232em; margin-bottom: -0.101em; margin-top: 0px;">⎥</span><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.895em;">⎦</span></span></span></span><span id="MJXc-Node-88" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-89" class="mjx-mrow MJXc-space2"><span id="MJXc-Node-90" class="mjx-mo" style="vertical-align: -0.996em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">⎡</span><span class="mjx-char MJXc-TeX-size4-R" style="line-height: 0.232em; margin-bottom: -0.101em; margin-top: 0px;">⎢</span><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.895em;">⎣</span></span></span><span id="MJXc-Node-91" class="mjx-mtable" style="vertical-align: -1.665em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-92" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-93" class="mjx-mtd" style="padding: 0px; width: 0.961em;"><span id="MJXc-Node-94" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-95" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-96" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-97" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-98" class="mjx-mtr" style="height: 1.43em;"><span id="MJXc-Node-99" class="mjx-mtd" style="padding: 0.2em 0px 0px;"><span id="MJXc-Node-100" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-101" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-102" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-103" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-104" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-105" class="mjx-mtd" style="padding: 0.2em 0px 0px;"><span id="MJXc-Node-106" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-107" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-108" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-109" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-110" class="mjx-mo" style="vertical-align: -0.996em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">⎤</span><span class="mjx-char MJXc-TeX-size4-R" style="line-height: 0.232em; margin-bottom: -0.101em; margin-top: 0px;">⎥</span><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.895em;">⎦</span></span></span></span><span id="MJXc-Node-111" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-112" class="mjx-mrow MJXc-space3"><span id="MJXc-Node-113" class="mjx-mo" style="vertical-align: -0.996em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">⎡</span><span class="mjx-char MJXc-TeX-size4-R" style="line-height: 0.232em; margin-bottom: -0.101em; margin-top: 0px;">⎢</span><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.895em;">⎣</span></span></span><span id="MJXc-Node-114" class="mjx-mtable" style="vertical-align: -1.665em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-115" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-116" class="mjx-mtd" style="padding: 0px; width: 3.144em;"><span id="MJXc-Node-117" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-118" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-119" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-120" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-121" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-122" class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span id="MJXc-Node-123" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-124" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-125" class="mjx-mtr" style="height: 1.43em;"><span id="MJXc-Node-126" class="mjx-mtd" style="padding: 0.2em 0px 0px;"><span id="MJXc-Node-127" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-128" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-129" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-130" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-131" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-132" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-133" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-134" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-135" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-136" class="mjx-mtd" style="padding: 0.2em 0px 0px;"><span id="MJXc-Node-137" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-138" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-139" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-140" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-141" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-142" class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span id="MJXc-Node-143" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-144" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-145" class="mjx-mo" style="vertical-align: -0.996em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">⎤</span><span class="mjx-char MJXc-TeX-size4-R" style="line-height: 0.232em; margin-bottom: -0.101em; margin-top: 0px;">⎥</span><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.895em;">⎦</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 3.83em;"><span id="mjx-eqn-1" class="mjx-mtd"><span id="MJXc-Node-50" class="mjx-mrow" style="margin-top: 1.165em;"><span id="MJXc-Node-51" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(1)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-1"><mtext>(1)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>1</mn></msub><mo>+</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>2</mn></msub><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mi>x</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd><msub><mi>y</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd><msub><mi>θ</mi><mn>1</mn></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>+</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mi>x</mi><mn>2</mn></msub></mtd></mtr><mtr><mtd><msub><mi>y</mi><mn>2</mn></msub></mtd></mtr><mtr><mtd><msub><mi>θ</mi><mn>2</mn></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>x</mi><mn>2</mn></msub></mtd></mtr><mtr><mtd><msub><mi>y</mi><mn>1</mn></msub><mo>+</mo><msub><mi>y</mi><mn>2</mn></msub></mtd></mtr><mtr><mtd><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-4">\begin{equation}
\mathbf{T}_1 + \mathbf{T}_2 = \begin{bmatrix} x_1\\ y_1 \\ \theta_1 \end{bmatrix}  +  \begin{bmatrix} x_2 \\ y_2 \\ \theta_2\end{bmatrix}  = \begin{bmatrix} x_1 + x_2 \\ y_1+y_2 \\ \theta_1 + \theta_2\end{bmatrix}
\end{equation}</script>

<p>This is basically saying that <em>it does not matter if we start in pose <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-5-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-146" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-147" class="mjx-mrow"><span id="MJXc-Node-148" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-149" class="mjx-texatom"><span id="MJXc-Node-150" class="mjx-mrow"><span id="MJXc-Node-151" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-152" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-5">\mathbf{T}_1</script> or <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-6-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-153" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-154" class="mjx-mrow"><span id="MJXc-Node-155" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-156" class="mjx-texatom"><span id="MJXc-Node-157" class="mjx-mrow"><span id="MJXc-Node-158" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-159" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-6">\mathbf{T}_2</script>, we will end up at the same final pose</em> by composing both, because in vector spaces we can commute the elements. <strong>But this does not work in reality, because rotations and translations do not commute</strong>. A simple example is that if you are currently sitting at your desk,  and you <em>stand up, rotate 180 degrees and walk a step forward</em>, is completely different to <em>stand up, walk a step forward and then rotate 180 degrees</em> (apart from the fact that you will hit your desk if you do the latter).</p>

<p>So we need a different representation for poses that allow us to describe accurately what we observe in reality. Long story short, we rather have to represent planar poses as <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-7-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-160" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-161" class="mjx-mrow"><span id="MJXc-Node-162" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span><span id="MJXc-Node-163" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.318em;">×</span></span><span id="MJXc-Node-164" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-7">3\times3</script> matrices known as <em>rigid-body transformations</em>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-8-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 21.52em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-2&quot;&gt;&lt;mtext&gt;(2)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mi&gt;sin&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;sin&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-165" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-166" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-167" class="mjx-mtable" style="width: 100%; min-width: 25.676em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0px;"><span id="MJXc-Node-168" class="mjx-mlabeledtr" style="height: 3.83em;"><span id="MJXc-Node-172" class="mjx-mtd" style="padding: 0px; width: 21.52em;"><span id="MJXc-Node-173" class="mjx-mrow"><span id="MJXc-Node-174" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-175" class="mjx-texatom"><span id="MJXc-Node-176" class="mjx-mrow"><span id="MJXc-Node-177" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-178" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-179" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-180" class="mjx-mrow MJXc-space3"><span id="MJXc-Node-181" class="mjx-mo" style="vertical-align: -0.996em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">⎡</span><span class="mjx-char MJXc-TeX-size4-R" style="line-height: 0.232em; margin-bottom: -0.101em; margin-top: 0px;">⎢</span><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.895em;">⎣</span></span></span><span id="MJXc-Node-182" class="mjx-mtable" style="vertical-align: -1.665em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-183" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-184" class="mjx-mtd" style="padding: 0px 0.5em 0px 0px; width: 2.363em;"><span id="MJXc-Node-185" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-186" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.37em;">cos</span></span><span id="MJXc-Node-187" class="mjx-mo"><span class="mjx-char"></span></span><span id="MJXc-Node-188" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-189" class="mjx-mrow"><span id="MJXc-Node-190" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-191" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-192" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-193" class="mjx-mtd" style="padding: 0px 0.5em; width: 0px;"><span id="MJXc-Node-194" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-195" class="mjx-mtd" style="padding: 0px 0.5em; width: 3.197em;"><span id="MJXc-Node-196" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-197" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-198" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">sin</span></span><span id="MJXc-Node-199" class="mjx-mo"><span class="mjx-char"></span></span><span id="MJXc-Node-200" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-201" class="mjx-mrow"><span id="MJXc-Node-202" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-203" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-204" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-205" class="mjx-mtd" style="padding: 0px 0.5em; width: 0px;"><span id="MJXc-Node-206" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-207" class="mjx-mtd" style="padding: 0px 0px 0px 0.5em; width: 0.961em;"><span id="MJXc-Node-208" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-209" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-210" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-211" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-212" class="mjx-mtr" style="height: 1.43em;"><span id="MJXc-Node-213" class="mjx-mtd" style="padding: 0.2em 0.5em 0px 0px;"><span id="MJXc-Node-214" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-215" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">sin</span></span><span id="MJXc-Node-216" class="mjx-mo"><span class="mjx-char"></span></span><span id="MJXc-Node-217" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-218" class="mjx-mrow"><span id="MJXc-Node-219" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-220" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-221" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-222" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-223" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-224" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-225" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-226" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.37em;">cos</span></span><span id="MJXc-Node-227" class="mjx-mo"><span class="mjx-char"></span></span><span id="MJXc-Node-228" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-229" class="mjx-mrow"><span id="MJXc-Node-230" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-231" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-232" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-233" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-234" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-235" class="mjx-mtd" style="padding: 0.2em 0px 0px 0.5em;"><span id="MJXc-Node-236" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-237" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-238" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-239" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-240" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-241" class="mjx-mtd" style="padding: 0.2em 0.5em 0px 0px;"><span id="MJXc-Node-242" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-243" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">0</span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-244" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-245" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-246" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-247" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-248" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">0</span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-249" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-250" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-251" class="mjx-mtd" style="padding: 0.2em 0px 0px 0.5em;"><span id="MJXc-Node-252" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-253" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-254" class="mjx-mo" style="vertical-align: -0.996em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">⎤</span><span class="mjx-char MJXc-TeX-size4-R" style="line-height: 0.232em; margin-bottom: -0.101em; margin-top: 0px;">⎥</span><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 0.948em; padding-bottom: 0.895em;">⎦</span></span></span></span><span id="MJXc-Node-255" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-256" class="mjx-mrow MJXc-space3"><span id="MJXc-Node-257" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">[</span></span><span id="MJXc-Node-258" class="mjx-mtable" style="vertical-align: -0.95em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-259" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-260" class="mjx-mtd" style="padding: 0px 0.5em 0px 0px; width: 1.251em;"><span id="MJXc-Node-261" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-262" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-263" class="mjx-texatom"><span id="MJXc-Node-264" class="mjx-mrow"><span id="MJXc-Node-265" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-266" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-267" class="mjx-mtd" style="padding: 0px 0.5em; width: 0px;"><span id="MJXc-Node-268" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-269" class="mjx-mtd" style="padding: 0px 0px 0px 0.5em; width: 0.836em;"><span id="MJXc-Node-270" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-271" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-272" class="mjx-texatom"><span id="MJXc-Node-273" class="mjx-mrow"><span id="MJXc-Node-274" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">t</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-275" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-276" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-277" class="mjx-mtd" style="padding: 0.2em 0.5em 0px 0px;"><span id="MJXc-Node-278" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-279" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">0</span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-280" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-281" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-282" class="mjx-mtd" style="padding: 0.2em 0px 0px 0.5em;"><span id="MJXc-Node-283" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-284" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-285" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">]</span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 3.83em;"><span id="mjx-eqn-2" class="mjx-mtd"><span id="MJXc-Node-170" class="mjx-mrow" style="margin-top: 1.165em;"><span id="MJXc-Node-171" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(2)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-2"><mtext>(2)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>1</mn></msub><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>cos</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>θ</mi><mn>1</mn></msub></mrow></mtd><mtd></mtd><mtd><mo>−</mo><mi>sin</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>θ</mi><mn>1</mn></msub></mrow></mtd><mtd></mtd><mtd><msub><mi>x</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd><mi>sin</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>θ</mi><mn>1</mn></msub></mrow></mtd><mtd></mtd><mtd><mi>cos</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>θ</mi><mn>1</mn></msub></mrow></mtd><mtd></mtd><mtd><msub><mi>y</mi><mn>1</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd></mtd><mtd><mn>0</mn></mtd><mtd></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mn>1</mn></msub></mtd><mtd></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">t</mi></mrow><mn>1</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-8">\begin{equation}
\mathbf{T}_1 = \left[\begin{matrix} \cos{\theta_1} && -\sin{\theta_1} && x_1 \\ \sin{\theta_1} && \cos{\theta_1} && y_1 \\ 0 && 0 && 1\end{matrix} \right] = \left[\begin{matrix} \mathbf{R}_1 && \mathbf{t}_1 \\ 0 && 1\end{matrix}\right]
\end{equation}</script>

<p>Here <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-9-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mi&gt;sin&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mi&gt;sin&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-286" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-287" class="mjx-mrow"><span id="MJXc-Node-288" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-289" class="mjx-texatom"><span id="MJXc-Node-290" class="mjx-mrow"><span id="MJXc-Node-291" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-292" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-293" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-294" class="mjx-mrow MJXc-space3"><span id="MJXc-Node-295" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">[</span></span><span id="MJXc-Node-296" class="mjx-mtable" style="vertical-align: -0.95em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-297" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-298" class="mjx-mtd" style="padding: 0px 0.5em 0px 0px; width: 2.363em;"><span id="MJXc-Node-299" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-300" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.37em;">cos</span></span><span id="MJXc-Node-301" class="mjx-mo"><span class="mjx-char"></span></span><span id="MJXc-Node-302" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-303" class="mjx-mrow"><span id="MJXc-Node-304" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-305" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-306" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-307" class="mjx-mtd" style="padding: 0px 0.5em; width: 0px;"><span id="MJXc-Node-308" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-309" class="mjx-mtd" style="padding: 0px 0px 0px 0.5em; width: 3.197em;"><span id="MJXc-Node-310" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-311" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-312" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">sin</span></span><span id="MJXc-Node-313" class="mjx-mo"><span class="mjx-char"></span></span><span id="MJXc-Node-314" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-315" class="mjx-mrow"><span id="MJXc-Node-316" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-317" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-318" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-319" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-320" class="mjx-mtd" style="padding: 0.2em 0.5em 0px 0px;"><span id="MJXc-Node-321" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-322" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">sin</span></span><span id="MJXc-Node-323" class="mjx-mo"><span class="mjx-char"></span></span><span id="MJXc-Node-324" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-325" class="mjx-mrow"><span id="MJXc-Node-326" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-327" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-328" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-329" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-330" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-331" class="mjx-mtd" style="padding: 0.2em 0px 0px 0.5em;"><span id="MJXc-Node-332" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-333" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.37em;">cos</span></span><span id="MJXc-Node-334" class="mjx-mo"><span class="mjx-char"></span></span><span id="MJXc-Node-335" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-336" class="mjx-mrow"><span id="MJXc-Node-337" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-338" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-339" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-340" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">]</span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mn>1</mn></msub><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>cos</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>θ</mi><mn>1</mn></msub></mrow></mtd><mtd></mtd><mtd><mo>−</mo><mi>sin</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>θ</mi><mn>1</mn></msub></mrow></mtd></mtr><mtr><mtd><mi>sin</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>θ</mi><mn>1</mn></msub></mrow></mtd><mtd></mtd><mtd><mi>cos</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>θ</mi><mn>1</mn></msub></mrow></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-9">\mathbf{R}_1 = \left[ \begin{matrix} \cos{\theta_1} && -\sin{\theta_1}\\ \sin{\theta_1} && \cos{\theta_1}\end{matrix} \right]</script> is a 2D rotation matrix, while <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-10-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-341" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-342" class="mjx-mrow"><span id="MJXc-Node-343" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-344" class="mjx-texatom"><span id="MJXc-Node-345" class="mjx-mrow"><span id="MJXc-Node-346" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">t</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-347" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-348" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-349" class="mjx-mrow MJXc-space3"><span id="MJXc-Node-350" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">[</span></span><span id="MJXc-Node-351" class="mjx-mtable" style="vertical-align: -0.265em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-352" class="mjx-mtr" style="height: 1.03em;"><span id="MJXc-Node-353" class="mjx-mtd" style="padding: 0px; width: 2.09em;"><span id="MJXc-Node-354" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-355" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-356" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-357" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-358" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-359" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-360" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-361" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-362" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">]</span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">t</mi></mrow><mn>1</mn></msub><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mi>x</mi><mn>1</mn></msub><mtext>&nbsp;</mtext><msub><mi>y</mi><mn>1</mn></msub></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-10">\mathbf{t}_1 = \left[ \begin{matrix}x_1 \ y_1 \end{matrix}\right]</script> is a translation vector.
While we are using a <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-11-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-363" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-364" class="mjx-mrow"><span id="MJXc-Node-365" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span><span id="MJXc-Node-366" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.318em;">×</span></span><span id="MJXc-Node-367" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn><mo>×</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-11">3\times3</script> matrix now to represent the pose, <em>its degrees of freedom</em> are still <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-12-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-368" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-369" class="mjx-mrow"><span id="MJXc-Node-370" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-12">3</script>, since it is a function of <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-13-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-371" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-372" class="mjx-mrow"><span id="MJXc-Node-373" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-374" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-375" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-376" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-377" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-378" class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-379" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-380" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-381" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-382" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-383" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-384" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-385" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13">(x_1, y_1, \theta_1)</script>.</p>

<p>Working with transformation matrices is great, because we can now describe the behavior we previously explained with words using matrix operations. If we start in pose <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-14-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-386" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-387" class="mjx-mrow"><span id="MJXc-Node-388" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-389" class="mjx-texatom"><span id="MJXc-Node-390" class="mjx-mrow"><span id="MJXc-Node-391" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-392" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-14">\mathbf{T}_1</script> and we apply the transformation <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-15-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-393" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-394" class="mjx-mrow"><span id="MJXc-Node-395" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-396" class="mjx-texatom"><span id="MJXc-Node-397" class="mjx-mrow"><span id="MJXc-Node-398" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-399" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-15">\mathbf{T}_2</script>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-16-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 26.2em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-3&quot;&gt;&lt;mtext&gt;(3)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mtd&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-400" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-401" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-402" class="mjx-mtable" style="width: 100%; min-width: 30.356em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0px;"><span id="MJXc-Node-403" class="mjx-mlabeledtr" style="height: 2.449em;"><span id="MJXc-Node-407" class="mjx-mtd" style="padding: 0px; width: 26.2em;"><span id="MJXc-Node-408" class="mjx-mrow"><span id="MJXc-Node-409" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-410" class="mjx-texatom"><span id="MJXc-Node-411" class="mjx-mrow"><span id="MJXc-Node-412" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-413" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-414" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-415" class="mjx-texatom"><span id="MJXc-Node-416" class="mjx-mrow"><span id="MJXc-Node-417" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-418" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span id="MJXc-Node-419" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-420" class="mjx-mrow MJXc-space3"><span id="MJXc-Node-421" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">[</span></span><span id="MJXc-Node-422" class="mjx-mtable" style="vertical-align: -0.95em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-423" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-424" class="mjx-mtd" style="padding: 0px 0.5em 0px 0px; width: 1.251em;"><span id="MJXc-Node-425" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-426" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-427" class="mjx-texatom"><span id="MJXc-Node-428" class="mjx-mrow"><span id="MJXc-Node-429" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-430" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-431" class="mjx-mtd" style="padding: 0px 0.5em; width: 0px;"><span id="MJXc-Node-432" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-433" class="mjx-mtd" style="padding: 0px 0px 0px 0.5em; width: 0.836em;"><span id="MJXc-Node-434" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-435" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-436" class="mjx-texatom"><span id="MJXc-Node-437" class="mjx-mrow"><span id="MJXc-Node-438" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">t</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-439" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-440" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-441" class="mjx-mtd" style="padding: 0.2em 0.5em 0px 0px;"><span id="MJXc-Node-442" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-443" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">0</span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-444" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-445" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-446" class="mjx-mtd" style="padding: 0.2em 0px 0px 0.5em;"><span id="MJXc-Node-447" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-448" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-449" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">]</span></span></span><span id="MJXc-Node-450" class="mjx-mrow MJXc-space1"><span id="MJXc-Node-451" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">[</span></span><span id="MJXc-Node-452" class="mjx-mtable" style="vertical-align: -0.95em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-453" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-454" class="mjx-mtd" style="padding: 0px 0.5em 0px 0px; width: 1.251em;"><span id="MJXc-Node-455" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-456" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-457" class="mjx-texatom"><span id="MJXc-Node-458" class="mjx-mrow"><span id="MJXc-Node-459" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-460" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-461" class="mjx-mtd" style="padding: 0px 0.5em; width: 0px;"><span id="MJXc-Node-462" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-463" class="mjx-mtd" style="padding: 0px 0px 0px 0.5em; width: 0.836em;"><span id="MJXc-Node-464" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-465" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-466" class="mjx-texatom"><span id="MJXc-Node-467" class="mjx-mrow"><span id="MJXc-Node-468" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">t</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-469" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-470" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-471" class="mjx-mtd" style="padding: 0.2em 0.5em 0px 0px;"><span id="MJXc-Node-472" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-473" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">0</span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-474" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-475" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-476" class="mjx-mtd" style="padding: 0.2em 0px 0px 0.5em;"><span id="MJXc-Node-477" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-478" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-479" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">]</span></span></span><span id="MJXc-Node-480" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-481" class="mjx-mrow MJXc-space3"><span id="MJXc-Node-482" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">[</span></span><span id="MJXc-Node-483" class="mjx-mtable" style="vertical-align: -0.95em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-484" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-485" class="mjx-mtd" style="padding: 0px 0.5em 0px 0px; width: 2.502em;"><span id="MJXc-Node-486" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-487" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-488" class="mjx-texatom"><span id="MJXc-Node-489" class="mjx-mrow"><span id="MJXc-Node-490" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-491" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-492" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-493" class="mjx-texatom"><span id="MJXc-Node-494" class="mjx-mrow"><span id="MJXc-Node-495" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-496" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-497" class="mjx-mtd" style="padding: 0px 0.5em; width: 0px;"><span id="MJXc-Node-498" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-499" class="mjx-mtd" style="padding: 0px 0px 0px 0.5em; width: 4.145em;"><span id="MJXc-Node-500" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-501" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-502" class="mjx-texatom"><span id="MJXc-Node-503" class="mjx-mrow"><span id="MJXc-Node-504" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-505" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-506" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-507" class="mjx-texatom"><span id="MJXc-Node-508" class="mjx-mrow"><span id="MJXc-Node-509" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">t</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-510" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span><span id="MJXc-Node-511" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-512" class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span id="MJXc-Node-513" class="mjx-texatom"><span id="MJXc-Node-514" class="mjx-mrow"><span id="MJXc-Node-515" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">t</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-516" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-517" class="mjx-mtr" style="height: 1.2em;"><span id="MJXc-Node-518" class="mjx-mtd" style="padding: 0.2em 0.5em 0px 0px;"><span id="MJXc-Node-519" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-520" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">0</span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-521" class="mjx-mtd" style="padding: 0.2em 0.5em 0px;"><span id="MJXc-Node-522" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-523" class="mjx-mtd" style="padding: 0.2em 0px 0px 0.5em;"><span id="MJXc-Node-524" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-525" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-526" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">]</span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 2.449em;"><span id="mjx-eqn-3" class="mjx-mtd"><span id="MJXc-Node-405" class="mjx-mrow" style="margin-top: 0.475em;"><span id="MJXc-Node-406" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(3)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-3"><mtext>(3)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>1</mn></msub><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mn>2</mn></msub><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mn>1</mn></msub></mtd><mtd></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">t</mi></mrow><mn>1</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mn>2</mn></msub></mtd><mtd></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">t</mi></mrow><mn>2</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mn>1</mn></msub><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mn>2</mn></msub></mtd><mtd></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mn>1</mn></msub><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">t</mi></mrow><mn>2</mn></msub><mo>+</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">t</mi></mrow><mn>1</mn></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-16">\begin{equation}
\mathbf{T}_1 \mathbf{T}_2 = \left[\begin{matrix} \mathbf{R}_1 && \mathbf{t}_1 \\ 0 && 1\end{matrix}\right] \left[\begin{matrix} \mathbf{R}_2 && \mathbf{t}_2 \\ 0 && 1\end{matrix}\right] = \left[\begin{matrix} \mathbf{R}_1 \mathbf{R}_2 && \mathbf{R}_1 \mathbf{t}_2 +  \mathbf{t}_1 \\ 0 && 1\end{matrix}\right]
\end{equation}</script>

<p>We can now rewrite the same problem as before but now using our transformation matrices:</p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-17-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 6.558em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-4&quot;&gt;&lt;mtext&gt;(4)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-527" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-528" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-529" class="mjx-mtable" style="width: 100%; min-width: 10.714em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.012em;"><span id="MJXc-Node-530" class="mjx-mlabeledtr" style="height: 1.075em;"><span id="MJXc-Node-534" class="mjx-mtd" style="padding: 0px; width: 6.558em;"><span id="MJXc-Node-535" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-536" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-537" class="mjx-texatom"><span id="MJXc-Node-538" class="mjx-mrow"><span id="MJXc-Node-539" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-540" class="mjx-texatom" style=""><span id="MJXc-Node-541" class="mjx-mrow"><span id="MJXc-Node-542" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-543" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-544" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-545" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-546" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-547" class="mjx-texatom"><span id="MJXc-Node-548" class="mjx-mrow"><span id="MJXc-Node-549" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-550" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-551" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-552" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-553" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-554" class="mjx-texatom"><span id="MJXc-Node-555" class="mjx-mrow"><span id="MJXc-Node-556" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-557" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 1.075em;"><span id="mjx-eqn-4" class="mjx-mtd"><span id="MJXc-Node-532" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-533" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(4)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-4"><mtext>(4)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-17">\begin{equation}
\mathbf{T}_{i+1} = \mathbf{T}_i \ \Delta\mathbf{T}_i
\end{equation}</script></p>

<p>Here we are saying that the next state <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-18-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-558" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-559" class="mjx-mrow"><span id="MJXc-Node-560" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-561" class="mjx-texatom"><span id="MJXc-Node-562" class="mjx-mrow"><span id="MJXc-Node-563" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-564" class="mjx-texatom" style=""><span id="MJXc-Node-565" class="mjx-mrow"><span id="MJXc-Node-566" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-567" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-568" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-18">\mathbf{T}_{i+1}</script> is gonna be the previous state <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-19-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-569" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-570" class="mjx-mrow"><span id="MJXc-Node-571" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-572" class="mjx-texatom"><span id="MJXc-Node-573" class="mjx-mrow"><span id="MJXc-Node-574" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-575" class="mjx-texatom" style=""><span id="MJXc-Node-576" class="mjx-mrow"><span id="MJXc-Node-577" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-19">\mathbf{T}_{i}</script> <em>plus</em> some increment <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-20-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-578" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-579" class="mjx-mrow"><span id="MJXc-Node-580" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-581" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-582" class="mjx-texatom"><span id="MJXc-Node-583" class="mjx-mrow"><span id="MJXc-Node-584" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-585" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-20">\Delta\mathbf{T}_i</script> given by a sensor -odometry in this case. Please note that since we are now working with transformation matrices, <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-21-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-586" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-587" class="mjx-mrow"><span id="MJXc-Node-588" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-589" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-590" class="mjx-texatom"><span id="MJXc-Node-591" class="mjx-mrow"><span id="MJXc-Node-592" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-593" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-21">\Delta\mathbf{T}_i</script> is almost everything we need to model the problem more accurately, since it will represent a change in both position and orientation.</p>

<p>Now, <strong>there are two things here that we must discuss</strong> before moving on, which are fundamental to make everything consistent. We will review them carefully now.</p>

<h2 id="the-importance-of-reference-frames">The importance of reference frames</h2>
<p>While some people (myself included) prefer to write the process as we did before, applying the increment on the <strong>right-hand</strong> side:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-22-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 6.558em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-5&quot;&gt;&lt;mtext&gt;(5)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-594" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-595" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-596" class="mjx-mtable" style="width: 100%; min-width: 10.714em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.012em;"><span id="MJXc-Node-597" class="mjx-mlabeledtr" style="height: 1.075em;"><span id="MJXc-Node-601" class="mjx-mtd" style="padding: 0px; width: 6.558em;"><span id="MJXc-Node-602" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-603" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-604" class="mjx-texatom"><span id="MJXc-Node-605" class="mjx-mrow"><span id="MJXc-Node-606" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-607" class="mjx-texatom" style=""><span id="MJXc-Node-608" class="mjx-mrow"><span id="MJXc-Node-609" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-610" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-611" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-612" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-613" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-614" class="mjx-texatom"><span id="MJXc-Node-615" class="mjx-mrow"><span id="MJXc-Node-616" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-617" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-618" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-619" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-620" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-621" class="mjx-texatom"><span id="MJXc-Node-622" class="mjx-mrow"><span id="MJXc-Node-623" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-624" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 1.075em;"><span id="mjx-eqn-5" class="mjx-mtd"><span id="MJXc-Node-599" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-600" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(5)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-5"><mtext>(5)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-22">\begin{equation}
\mathbf{T}_{i+1} = \mathbf{T}_i \ \Delta\mathbf{T}_i
\end{equation}</script>

<p>Others do it in a different way, on the <strong>left-hand</strong> side:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-23-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 6.558em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-6&quot;&gt;&lt;mtext&gt;(6)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-625" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-626" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-627" class="mjx-mtable" style="width: 100%; min-width: 10.714em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.012em;"><span id="MJXc-Node-628" class="mjx-mlabeledtr" style="height: 1.075em;"><span id="MJXc-Node-632" class="mjx-mtd" style="padding: 0px; width: 6.558em;"><span id="MJXc-Node-633" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-634" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-635" class="mjx-texatom"><span id="MJXc-Node-636" class="mjx-mrow"><span id="MJXc-Node-637" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-638" class="mjx-texatom" style=""><span id="MJXc-Node-639" class="mjx-mrow"><span id="MJXc-Node-640" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-641" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-642" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-643" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-644" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-645" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-646" class="mjx-texatom"><span id="MJXc-Node-647" class="mjx-mrow"><span id="MJXc-Node-648" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-649" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-650" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-651" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-652" class="mjx-texatom"><span id="MJXc-Node-653" class="mjx-mrow"><span id="MJXc-Node-654" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-655" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 1.075em;"><span id="mjx-eqn-6" class="mjx-mtd"><span id="MJXc-Node-630" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-631" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(6)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-6"><mtext>(6)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub><mtext>&nbsp;</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-23">\begin{equation}
\mathbf{T}_{i+1} = \Delta\mathbf{T}_i \ \mathbf{T}_i
\end{equation}</script>

<p>These expressions are not equivalent as we already discussed because rigid-body transformations do not commute. However, <strong>both make sense under specific conventions</strong>. We will be more explicit now by introducing the concept of <strong>reference frames</strong> in our notation. We will use the notation presented by Paul Furgale in his blog post <a href="http://paulfurgale.info/news/2014/6/9/representing-robot-pose-the-good-the-bad-and-the-ugly">“Representing Robot Pose: The good, the bad, and the ugly”</a>.</p>

<p>Let us say that the robot trajectory in space is expressed in a fixed frame; we will called it the <em>world frame</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-24-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-656" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-657" class="mjx-mrow"><span id="MJXc-Node-658" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-24">W</script>. The robot itself defines a coordinate frame in its body, the <em>body frame</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-25-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-659" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-660" class="mjx-mrow"><span id="MJXc-Node-661" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-25">B</script>.</p>

<p>Then we can define the <strong>pose of the robot body <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-26-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-662" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-663" class="mjx-mrow"><span id="MJXc-Node-664" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-26">B</script> expressed in the world frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-27-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-665" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-666" class="mjx-mrow"><span id="MJXc-Node-667" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-27">W</script></strong> by using the following notation:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-28-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 2.113em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-7&quot;&gt;&lt;mtext&gt;(7)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-668" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-669" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-670" class="mjx-mtable" style="width: 100%; min-width: 6.269em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.012em;"><span id="MJXc-Node-671" class="mjx-mlabeledtr" style="height: 1.075em;"><span id="MJXc-Node-675" class="mjx-mtd" style="padding: 0px; width: 2.113em;"><span id="MJXc-Node-676" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-677" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-678" class="mjx-texatom"><span id="MJXc-Node-679" class="mjx-mrow"><span id="MJXc-Node-680" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-681" class="mjx-texatom" style=""><span id="MJXc-Node-682" class="mjx-mrow"><span id="MJXc-Node-683" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-684" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 1.075em;"><span id="mjx-eqn-7" class="mjx-mtd"><span id="MJXc-Node-673" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-674" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(7)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-7"><mtext>(7)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><mi>B</mi></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-28">\begin{equation}
\mathbf{T}_{WB}
\end{equation}</script>

<p>Analogously, using we can express <strong>the pose of the origin/world <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-29-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-685" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-686" class="mjx-mrow"><span id="MJXc-Node-687" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-29">W</script> expressed in the robot frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-30-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-688" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-689" class="mjx-mrow"><span id="MJXc-Node-690" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-30">B</script></strong>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-31-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 2.113em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-8&quot;&gt;&lt;mtext&gt;(8)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-691" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-692" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-693" class="mjx-mtable" style="width: 100%; min-width: 6.269em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.012em;"><span id="MJXc-Node-694" class="mjx-mlabeledtr" style="height: 1.075em;"><span id="MJXc-Node-698" class="mjx-mtd" style="padding: 0px; width: 2.113em;"><span id="MJXc-Node-699" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-700" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-701" class="mjx-texatom"><span id="MJXc-Node-702" class="mjx-mrow"><span id="MJXc-Node-703" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-704" class="mjx-texatom" style=""><span id="MJXc-Node-705" class="mjx-mrow"><span id="MJXc-Node-706" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span><span id="MJXc-Node-707" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 1.075em;"><span id="mjx-eqn-8" class="mjx-mtd"><span id="MJXc-Node-696" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-697" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(8)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-8"><mtext>(8)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>B</mi><mi>W</mi></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-31">\begin{equation}
\mathbf{T}_{BW}
\end{equation}</script>

<p>According to this formulation, the first is a description <em>from a fixed, world frame</em> while the left-hand one does it <em>from the robot’s perspective</em>. The interesting thing is that we can always go from one to the other by inverting the matrices:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-32-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 5.56em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-9&quot;&gt;&lt;mtext&gt;(9)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-708" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-709" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-710" class="mjx-mtable" style="width: 100%; min-width: 9.716em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.029em;"><span id="MJXc-Node-711" class="mjx-mlabeledtr" style="height: 1.278em;"><span id="MJXc-Node-715" class="mjx-mtd" style="padding: 0px; width: 5.56em;"><span id="MJXc-Node-716" class="mjx-mrow" style="margin-top: -0.082em;"><span id="MJXc-Node-717" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-718" class="mjx-texatom"><span id="MJXc-Node-719" class="mjx-mrow"><span id="MJXc-Node-720" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-725" class="mjx-texatom" style=""><span id="MJXc-Node-726" class="mjx-mrow"><span id="MJXc-Node-727" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-728" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-721" class="mjx-texatom" style=""><span id="MJXc-Node-722" class="mjx-mrow"><span id="MJXc-Node-723" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-724" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span></span></span></span></span><span id="MJXc-Node-729" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-730" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-731" class="mjx-texatom"><span id="MJXc-Node-732" class="mjx-mrow"><span id="MJXc-Node-733" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-734" class="mjx-texatom" style=""><span id="MJXc-Node-735" class="mjx-mrow"><span id="MJXc-Node-736" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span><span id="MJXc-Node-737" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.278em;"><span class="mjx-label" style="height: 1.278em;"><span id="mjx-eqn-9" class="mjx-mtd"><span id="MJXc-Node-713" class="mjx-mrow" style="margin-top: -0.082em;"><span id="MJXc-Node-714" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(9)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-9"><mtext>(9)</mtext></mtd><mtd><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><mi>B</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>B</mi><mi>W</mi></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-32">\begin{equation}
\mathbf{T}_{WB}^{-1} = \mathbf{T}_{BW}
\end{equation}</script>

<p>So the inverse <em>swaps</em> the subindices, effectively changing our <em>point-of-view</em> to describe the world.</p>

<p><strong>Using one or the other does not matter. The important thing is to stay consistent</strong>. 
In fact, by making the frames explicit in our convention we can always check if we are making mistakes. Let us say we are using the first definition, and our odometer is providing increments <em>relative to the previous body state</em>. Our increments <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-33-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-738" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-739" class="mjx-mrow"><span id="MJXc-Node-740" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-741" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-742" class="mjx-texatom"><span id="MJXc-Node-743" class="mjx-mrow"><span id="MJXc-Node-744" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-745" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-33">\Delta\mathbf{T}_i</script> will be <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-34-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-746" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-747" class="mjx-mrow"><span id="MJXc-Node-748" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-749" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-750" class="mjx-texatom"><span id="MJXc-Node-751" class="mjx-mrow"><span id="MJXc-Node-752" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-753" class="mjx-texatom" style=""><span id="MJXc-Node-754" class="mjx-mrow"><span id="MJXc-Node-755" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-756" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-757" class="mjx-texatom" style=""><span id="MJXc-Node-758" class="mjx-mrow"><span id="MJXc-Node-759" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-760" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-761" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-762" class="mjx-texatom" style=""><span id="MJXc-Node-763" class="mjx-mrow"><span id="MJXc-Node-764" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-765" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-766" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-34">\Delta\mathbf{T}_{B_{i} B_{i+1} }</script>, i.e, it is a transformation that describes the pose of the body at time <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-35-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-767" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-768" class="mjx-mrow"><span id="MJXc-Node-769" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-770" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-771" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-35">i+1</script> expressed in the previous one <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-36-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-772" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-773" class="mjx-mrow"><span id="MJXc-Node-774" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">i</script>.</p>

<p>Hence, the actual pose of the body at time <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-37-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-775" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-776" class="mjx-mrow"><span id="MJXc-Node-777" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-778" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-779" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-37">i+1</script> expressed in the world frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-38-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-780" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-781" class="mjx-mrow"><span id="MJXc-Node-782" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-38">W</script> is given by <strong>matrix multiplication of the increment on the right side</strong>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-39-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 10.619em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-10&quot;&gt;&lt;mtext&gt;(10)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-783" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-784" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-785" class="mjx-mtable" style="width: 100%; min-width: 15.775em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.005em;"><span id="MJXc-Node-786" class="mjx-mlabeledtr" style="height: 1.11em;"><span id="MJXc-Node-790" class="mjx-mtd" style="padding: 0px; width: 10.619em;"><span id="MJXc-Node-791" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-792" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-793" class="mjx-texatom"><span id="MJXc-Node-794" class="mjx-mrow"><span id="MJXc-Node-795" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-796" class="mjx-texatom" style=""><span id="MJXc-Node-797" class="mjx-mrow"><span id="MJXc-Node-798" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-799" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-800" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-801" class="mjx-texatom" style=""><span id="MJXc-Node-802" class="mjx-mrow"><span id="MJXc-Node-803" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-804" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-805" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-806" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-807" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-808" class="mjx-texatom"><span id="MJXc-Node-809" class="mjx-mrow"><span id="MJXc-Node-810" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-811" class="mjx-texatom" style=""><span id="MJXc-Node-812" class="mjx-mrow"><span id="MJXc-Node-813" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-814" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-815" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-816" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-817" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-818" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-819" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-820" class="mjx-texatom"><span id="MJXc-Node-821" class="mjx-mrow"><span id="MJXc-Node-822" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-823" class="mjx-texatom" style=""><span id="MJXc-Node-824" class="mjx-mrow"><span id="MJXc-Node-825" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-826" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-827" class="mjx-texatom" style=""><span id="MJXc-Node-828" class="mjx-mrow"><span id="MJXc-Node-829" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-830" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-831" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-832" class="mjx-texatom" style=""><span id="MJXc-Node-833" class="mjx-mrow"><span id="MJXc-Node-834" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-835" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-836" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.11em;"><span id="mjx-eqn-10" class="mjx-mtd"><span id="MJXc-Node-788" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-789" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(10)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-10"><mtext>(10)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-39">\begin{equation}
\mathbf{T}_{WB_{i+1}} = \mathbf{T}_{WB_i} \ \Delta\mathbf{T}_{B_{i} B_{i+1} }
\end{equation}</script>

<p>We know this is correct because the inner indices cancel each other, effectively representing the pose at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-40-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-837" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-838" class="mjx-mrow"><span id="MJXc-Node-839" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-840" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-841" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-40">i+1</script> in the frame we want:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-41-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 11.185em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-11&quot;&gt;&lt;mtext&gt;(11)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;menclose notation=&quot;downdiagonalstrike&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/menclose&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;menclose notation=&quot;downdiagonalstrike&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/menclose&gt;&lt;/mrow&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-842" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-843" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-844" class="mjx-mtable" style="width: 100%; min-width: 16.341em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.127em;"><span id="MJXc-Node-845" class="mjx-mlabeledtr" style="height: 1.354em;"><span id="MJXc-Node-849" class="mjx-mtd" style="padding: 0px; width: 11.185em;"><span id="MJXc-Node-850" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-851" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-852" class="mjx-texatom"><span id="MJXc-Node-853" class="mjx-mrow"><span id="MJXc-Node-854" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-855" class="mjx-texatom" style=""><span id="MJXc-Node-856" class="mjx-mrow"><span id="MJXc-Node-857" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-858" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-859" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-860" class="mjx-texatom" style=""><span id="MJXc-Node-861" class="mjx-mrow"><span id="MJXc-Node-862" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-863" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-864" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-865" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-866" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-867" class="mjx-texatom"><span id="MJXc-Node-868" class="mjx-mrow"><span id="MJXc-Node-869" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span id="MJXc-Node-870" class="mjx-texatom" style=""><span id="MJXc-Node-871" class="mjx-mrow"><span id="MJXc-Node-872" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-873" class="mjx-texatom"><span id="MJXc-Node-874" class="mjx-mrow"><span id="MJXc-Node-875" class="mjx-menclose"><span class="mjx-box" style="padding: 0.2em;"><span id="MJXc-Node-876" class="mjx-mrow"><span id="MJXc-Node-877" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-878" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-879" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><svg style="width: 1.438em; height: 1.283em; vertical-align: -0.375em; margin-left: -1.438em;"><g stroke-width="1px"><line x1="0.5px" y1="0.5px" x2="26.4px" y2="23.4px"></line></g></svg></span></span></span></span></span></span></span><span id="MJXc-Node-880" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-881" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-882" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-883" class="mjx-texatom"><span id="MJXc-Node-884" class="mjx-mrow"><span id="MJXc-Node-885" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.408em; padding-right: 0.071em;"><span id="MJXc-Node-886" class="mjx-texatom" style=""><span id="MJXc-Node-887" class="mjx-mrow"><span id="MJXc-Node-888" class="mjx-texatom"><span id="MJXc-Node-889" class="mjx-mrow"><span id="MJXc-Node-890" class="mjx-menclose"><span class="mjx-box" style="padding: 0.2em;"><span id="MJXc-Node-891" class="mjx-mrow"><span id="MJXc-Node-892" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-893" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-894" class="mjx-texatom" style=""><span id="MJXc-Node-895" class="mjx-mrow"><span id="MJXc-Node-896" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><svg style="width: 1.438em; height: 1.283em; vertical-align: -0.375em; margin-left: -1.438em;"><g stroke-width="1px"><line x1="0.5px" y1="0.5px" x2="26.4px" y2="23.4px"></line></g></svg></span></span></span><span id="MJXc-Node-897" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-898" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-899" class="mjx-texatom" style=""><span id="MJXc-Node-900" class="mjx-mrow"><span id="MJXc-Node-901" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-902" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-903" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.354em;"><span id="mjx-eqn-11" class="mjx-mtd"><span id="MJXc-Node-847" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-848" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(11)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-11"><mtext>(11)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><menclose notation="downdiagonalstrike"><msub><mi>B</mi><mi>i</mi></msub></menclose></mrow></mrow></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><menclose notation="downdiagonalstrike"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></menclose></mrow><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-41">\begin{equation}
\mathbf{T}_{WB_{i+1}} = \mathbf{T}_{W {\bcancel{B_i}} } \ \Delta\mathbf{T}_{ {\bcancel{B_{i}}} B_{i+1} }
\end{equation}</script>

<p>Since we <strong>applied the increment from the right-hand side</strong>, we will refer to this as the <strong>right-hand convention</strong>.</p>

<p><a name="right-convention"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/right-convention.png" alt="Right-hand convention">
    <figcaption>When using right-hand convention, the increments to describe the pose of the robot at instant <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-42-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-904" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-905" class="mjx-mrow"><span id="MJXc-Node-906" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-42">i</script> are applied on the right-hand side. All our estimates are expressed with respect to a fixed world frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-43-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-907" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-908" class="mjx-mrow"><span id="MJXc-Node-909" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-43">W</script> (in black).</figcaption>
</figure>
<p><br></p>

<p>If we want to apply the increment to <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-44-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-910" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-911" class="mjx-mrow"><span id="MJXc-Node-912" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-913" class="mjx-texatom"><span id="MJXc-Node-914" class="mjx-mrow"><span id="MJXc-Node-915" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-916" class="mjx-texatom" style=""><span id="MJXc-Node-917" class="mjx-mrow"><span id="MJXc-Node-918" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span><span id="MJXc-Node-919" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>B</mi><mi>W</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-44">\mathbf{T}_{BW}</script>, we would need to invert the measurement:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-45-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 8.885em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-12&quot;&gt;&lt;mtext&gt;(12)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-920" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-921" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-922" class="mjx-mtable" style="width: 100%; min-width: 14.041em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.034em;"><span id="MJXc-Node-923" class="mjx-mlabeledtr" style="height: 1.404em;"><span id="MJXc-Node-927" class="mjx-mtd" style="padding: 0px; width: 8.885em;"><span id="MJXc-Node-928" class="mjx-mrow" style="margin-top: -0.082em;"><span id="MJXc-Node-929" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-930" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-931" class="mjx-texatom"><span id="MJXc-Node-932" class="mjx-mrow"><span id="MJXc-Node-933" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-934" class="mjx-texatom" style=""><span id="MJXc-Node-935" class="mjx-mrow"><span id="MJXc-Node-936" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-937" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-938" class="mjx-texatom" style=""><span id="MJXc-Node-939" class="mjx-mrow"><span id="MJXc-Node-940" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-941" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-942" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-943" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-944" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-945" class="mjx-texatom" style=""><span id="MJXc-Node-946" class="mjx-mrow"><span id="MJXc-Node-947" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-948" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-949" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-950" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-951" class="mjx-texatom"><span id="MJXc-Node-952" class="mjx-mrow"><span id="MJXc-Node-953" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-968" class="mjx-texatom" style=""><span id="MJXc-Node-969" class="mjx-mrow"><span id="MJXc-Node-970" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-971" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-954" class="mjx-texatom" style=""><span id="MJXc-Node-955" class="mjx-mrow"><span id="MJXc-Node-956" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-957" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-958" class="mjx-texatom" style=""><span id="MJXc-Node-959" class="mjx-mrow"><span id="MJXc-Node-960" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-961" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-962" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-963" class="mjx-texatom" style=""><span id="MJXc-Node-964" class="mjx-mrow"><span id="MJXc-Node-965" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-966" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-967" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.404em;"><span id="mjx-eqn-12" class="mjx-mtd"><span id="MJXc-Node-925" class="mjx-mrow" style="margin-top: -0.082em;"><span id="MJXc-Node-926" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(12)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-12"><mtext>(12)</mtext></mtd><mtd><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></mrow></msub><mo>=</mo><mi mathvariant="normal">Δ</mi><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-45">\begin{equation}
\Delta\mathbf{T}_{B_{i+1} B_{i}} = \Delta\mathbf{T}_{B_{i} B_{i+1}}^{-1}
\end{equation}</script>

<p>so we can apply the transformation <strong>on the left-hand side</strong>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-46-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 10.369em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-13&quot;&gt;&lt;mtext&gt;(13)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-972" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-973" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-974" class="mjx-mtable" style="width: 100%; min-width: 15.525em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.005em;"><span id="MJXc-Node-975" class="mjx-mlabeledtr" style="height: 1.11em;"><span id="MJXc-Node-979" class="mjx-mtd" style="padding: 0px; width: 10.369em;"><span id="MJXc-Node-980" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-981" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-982" class="mjx-texatom"><span id="MJXc-Node-983" class="mjx-mrow"><span id="MJXc-Node-984" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-985" class="mjx-texatom" style=""><span id="MJXc-Node-986" class="mjx-mrow"><span id="MJXc-Node-987" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-988" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-989" class="mjx-texatom" style=""><span id="MJXc-Node-990" class="mjx-mrow"><span id="MJXc-Node-991" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-992" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-993" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-994" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span><span id="MJXc-Node-995" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-996" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-997" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-998" class="mjx-texatom"><span id="MJXc-Node-999" class="mjx-mrow"><span id="MJXc-Node-1000" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1001" class="mjx-texatom" style=""><span id="MJXc-Node-1002" class="mjx-mrow"><span id="MJXc-Node-1003" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1004" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1005" class="mjx-texatom" style=""><span id="MJXc-Node-1006" class="mjx-mrow"><span id="MJXc-Node-1007" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1008" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1009" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1010" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1011" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1012" class="mjx-texatom" style=""><span id="MJXc-Node-1013" class="mjx-mrow"><span id="MJXc-Node-1014" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-1015" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1016" class="mjx-texatom"><span id="MJXc-Node-1017" class="mjx-mrow"><span id="MJXc-Node-1018" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1019" class="mjx-texatom" style=""><span id="MJXc-Node-1020" class="mjx-mrow"><span id="MJXc-Node-1021" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1022" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1023" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-1024" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.11em;"><span id="mjx-eqn-13" class="mjx-mtd"><span id="MJXc-Node-977" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-978" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(13)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-13"><mtext>(13)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mi>W</mi></mrow></msub><mo>=</mo><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></mrow></msub><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub><mi>W</mi></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-46">\begin{equation}
\mathbf{T}_{B_{i+1}W} = \Delta\mathbf{T}_{B_{i+1} B_{i}} \mathbf{T}_{B_i W}
\end{equation}</script>

<p>which we will refer onward as <strong>left-hand convention</strong>.</p>

<p><a name="left-convention"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/left-convention.png" alt="Left-hand convention">
    <figcaption>With left-hand convention the increments are applied from the left, changing our reference frame to the new robot pose <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-47-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1025" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1026" class="mjx-mrow"><span id="MJXc-Node-1027" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1028" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1029" class="mjx-texatom" style=""><span id="MJXc-Node-1030" class="mjx-mrow"><span id="MJXc-Node-1031" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span><span id="MJXc-Node-1032" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.303em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1033" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-47">B_{i+1}</script> (in black) .</figcaption>
</figure>
<p><br></p>

<p><strong>In GTSAM we use the right-hand convention: we assume that the variables are expressed with respect to a fixed frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-48-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1034" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1035" class="mjx-mrow"><span id="MJXc-Node-1036" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-48">W</script>, hence the increments are applied on the right-hand side</strong>.</p>

<p>It is important to have this in mind because all the operations that are implemented follow this. As a matter of fact, 3D computer vision has generally used left-hand convention because it is straightforward to apply the projection models from the left:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-49-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 8.371em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-14&quot;&gt;&lt;mtext&gt;(14)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;K&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;P&lt;/mi&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1037" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-1038" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-1039" class="mjx-mtable" style="width: 100%; min-width: 13.527em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.012em;"><span id="MJXc-Node-1040" class="mjx-mlabeledtr" style="height: 1.075em;"><span id="MJXc-Node-1044" class="mjx-mtd" style="padding: 0px; width: 8.371em;"><span id="MJXc-Node-1045" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1046" class="mjx-texatom"><span id="MJXc-Node-1047" class="mjx-mrow"><span id="MJXc-Node-1048" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1049" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1050" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span></span></span></span><span id="MJXc-Node-1051" class="mjx-texatom"><span id="MJXc-Node-1052" class="mjx-mrow"><span id="MJXc-Node-1053" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span><span id="MJXc-Node-1054" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1055" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1056" class="mjx-texatom"><span id="MJXc-Node-1057" class="mjx-mrow"><span id="MJXc-Node-1058" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">K</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-1059" class="mjx-texatom" style=""><span id="MJXc-Node-1060" class="mjx-mrow"><span id="MJXc-Node-1061" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span><span id="MJXc-Node-1062" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span></span></span></span><span id="MJXc-Node-1063" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-1064" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1065" class="mjx-texatom"><span id="MJXc-Node-1066" class="mjx-mrow"><span id="MJXc-Node-1067" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-1068" class="mjx-texatom" style=""><span id="MJXc-Node-1069" class="mjx-mrow"><span id="MJXc-Node-1070" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span><span id="MJXc-Node-1071" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span><span id="MJXc-Node-1072" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-1073" class="mjx-texatom"><span id="MJXc-Node-1074" class="mjx-mrow"><span id="MJXc-Node-1075" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1076" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1077" class="mjx-texatom" style=""><span id="MJXc-Node-1078" class="mjx-mrow"><span id="MJXc-Node-1079" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span></span></span><span id="MJXc-Node-1080" class="mjx-texatom"><span id="MJXc-Node-1081" class="mjx-mrow"><span id="MJXc-Node-1082" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">P</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.075em;"><span id="mjx-eqn-14" class="mjx-mtd"><span id="MJXc-Node-1042" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1043" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(14)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-14"><mtext>(14)</mtext></mtd><mtd><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mi>I</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">K</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>I</mi><mi>C</mi></mrow></msub><mtext>&nbsp;</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>C</mi><mi>W</mi></mrow></msub><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><mi>W</mi></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">P</mi></mrow></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-49">\begin{equation}
{_I}\mathbf{p} = \mathbf{K}_{IC}\ \mathbf{T}_{CW}\ {_{W}}\mathbf{P}
\end{equation}</script>

<p>Here we made explicit all the frames involved in the transformations we usually can find in textbooks: An homogeneous point <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-50-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;P&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1083" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1084" class="mjx-mrow"><span id="MJXc-Node-1085" class="mjx-texatom"><span id="MJXc-Node-1086" class="mjx-mrow"><span id="MJXc-Node-1087" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1088" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1089" class="mjx-texatom" style=""><span id="MJXc-Node-1090" class="mjx-mrow"><span id="MJXc-Node-1091" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span></span></span><span id="MJXc-Node-1092" class="mjx-texatom"><span id="MJXc-Node-1093" class="mjx-mrow"><span id="MJXc-Node-1094" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">P</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><mi>W</mi></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">P</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-50">{_{W}}\mathbf{P}</script> expressed in the world frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-51-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1095" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1096" class="mjx-mrow"><span id="MJXc-Node-1097" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-51">W</script>, is transformed by the <em>extrinsic calibration matrix</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-52-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1098" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1099" class="mjx-mrow"><span id="MJXc-Node-1100" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1101" class="mjx-texatom"><span id="MJXc-Node-1102" class="mjx-mrow"><span id="MJXc-Node-1103" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-1104" class="mjx-texatom" style=""><span id="MJXc-Node-1105" class="mjx-mrow"><span id="MJXc-Node-1106" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span><span id="MJXc-Node-1107" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>C</mi><mi>W</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-52">\mathbf{T}_{CW}</script> (a rigid body transformation ) which represents the world <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-53-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1108" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1109" class="mjx-mrow"><span id="MJXc-Node-1110" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-53">W</script> in the camera frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-54-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1111" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1112" class="mjx-mrow"><span id="MJXc-Node-1113" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi></math></span></span><script type="math/tex" id="MathJax-Element-54">C</script>, producing a vector <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-55-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;P&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1114" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1115" class="mjx-mrow"><span id="MJXc-Node-1116" class="mjx-texatom"><span id="MJXc-Node-1117" class="mjx-mrow"><span id="MJXc-Node-1118" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1119" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-1120" class="mjx-texatom" style=""><span id="MJXc-Node-1121" class="mjx-mrow"><span id="MJXc-Node-1122" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span></span></span></span></span></span><span id="MJXc-Node-1123" class="mjx-texatom"><span id="MJXc-Node-1124" class="mjx-mrow"><span id="MJXc-Node-1125" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">P</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><mi>C</mi></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">P</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-55">{_{C}}\mathbf{P}</script> in the camera frame (not shown). This is projected onto the image by means of the intrinsic calibration matrix <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-56-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;K&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1126" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1127" class="mjx-mrow"><span id="MJXc-Node-1128" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1129" class="mjx-texatom"><span id="MJXc-Node-1130" class="mjx-mrow"><span id="MJXc-Node-1131" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">K</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-1132" class="mjx-texatom" style=""><span id="MJXc-Node-1133" class="mjx-mrow"><span id="MJXc-Node-1134" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span><span id="MJXc-Node-1135" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">K</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>I</mi><mi>C</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-56">\mathbf{K}_{IC}</script>, producing the vector <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-57-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1136" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1137" class="mjx-mrow"><span id="MJXc-Node-1138" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1139" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1140" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span></span><span id="MJXc-Node-1141" class="mjx-texatom"><span id="MJXc-Node-1142" class="mjx-mrow"><span id="MJXc-Node-1143" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi></mi><mi>I</mi></msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-57">_I\mathbf{p}</script>, expressed in the image frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-58-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1144" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1145" class="mjx-mrow"><span id="MJXc-Node-1146" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-58">I</script>.</p>

<p>Since in GTSAM the extrinsic calibration is defined the other way to be consistent with the right-hand convention, i.e <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-59-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1147" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1148" class="mjx-mrow"><span id="MJXc-Node-1149" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1150" class="mjx-texatom"><span id="MJXc-Node-1151" class="mjx-mrow"><span id="MJXc-Node-1152" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-1153" class="mjx-texatom" style=""><span id="MJXc-Node-1154" class="mjx-mrow"><span id="MJXc-Node-1155" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1156" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><mi>C</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-59">\mathbf{T}_{WC}</script>, the implementation of the <code class="language-plaintext highlighter-rouge">CalibratedCamera</code> handles it by <a href="https://github.com/borglab/gtsam/blob/develop/gtsam/geometry/CalibratedCamera.cpp#L120">properly inverting the matrix before doing the projection</a> as we would expect:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-60-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 10.088em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-15&quot;&gt;&lt;mtext&gt;(15)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;K&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;P&lt;/mi&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1157" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-1158" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-1159" class="mjx-mtable" style="width: 100%; min-width: 15.244em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.063em;"><span id="MJXc-Node-1160" class="mjx-mlabeledtr" style="height: 1.177em;"><span id="MJXc-Node-1164" class="mjx-mtd" style="padding: 0px; width: 10.088em;"><span id="MJXc-Node-1165" class="mjx-mrow" style="margin-top: -0.098em;"><span id="MJXc-Node-1166" class="mjx-texatom"><span id="MJXc-Node-1167" class="mjx-mrow"><span id="MJXc-Node-1168" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1169" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1170" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span></span></span></span><span id="MJXc-Node-1171" class="mjx-texatom"><span id="MJXc-Node-1172" class="mjx-mrow"><span id="MJXc-Node-1173" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span><span id="MJXc-Node-1174" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1175" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1176" class="mjx-texatom"><span id="MJXc-Node-1177" class="mjx-mrow"><span id="MJXc-Node-1178" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">K</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-1179" class="mjx-texatom" style=""><span id="MJXc-Node-1180" class="mjx-mrow"><span id="MJXc-Node-1181" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span><span id="MJXc-Node-1182" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span></span></span></span><span id="MJXc-Node-1183" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-1184" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1185" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1186" class="mjx-texatom"><span id="MJXc-Node-1187" class="mjx-mrow"><span id="MJXc-Node-1188" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-1189" class="mjx-texatom" style=""><span id="MJXc-Node-1190" class="mjx-mrow"><span id="MJXc-Node-1191" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1192" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span></span></span></span><span id="MJXc-Node-1193" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1194" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1195" class="mjx-texatom" style=""><span id="MJXc-Node-1196" class="mjx-mrow"><span id="MJXc-Node-1197" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-1198" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1199" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-1200" class="mjx-texatom"><span id="MJXc-Node-1201" class="mjx-mrow"><span id="MJXc-Node-1202" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1203" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1204" class="mjx-texatom" style=""><span id="MJXc-Node-1205" class="mjx-mrow"><span id="MJXc-Node-1206" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span></span></span><span id="MJXc-Node-1207" class="mjx-texatom"><span id="MJXc-Node-1208" class="mjx-mrow"><span id="MJXc-Node-1209" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">P</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.177em;"><span id="mjx-eqn-15" class="mjx-mtd"><span id="MJXc-Node-1162" class="mjx-mrow" style="margin-top: -0.098em;"><span id="MJXc-Node-1163" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(15)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-15"><mtext>(15)</mtext></mtd><mtd><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mi>I</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">K</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>I</mi><mi>C</mi></mrow></msub><mtext>&nbsp;</mtext><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><mi>C</mi></mrow></msub><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msup><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><mi>W</mi></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">P</mi></mrow></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-60">\begin{equation}
{_I}\mathbf{p} = \mathbf{K}_{IC}\ (\mathbf{T}_{WC})^{-1}\ {_{W}}\mathbf{P}
\end{equation}</script>

<h2 id="they-are-not-simply-matrices">They are not <em>simply matrices</em></h2>

<p>The second important point we need to discuss, is that while rigid-body transformations are nice, the new expression we have to represent the process presents some challenges when trying to use it in our factor graph using our previous method:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-61-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 10.619em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-16&quot;&gt;&lt;mtext&gt;(16)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1210" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-1211" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-1212" class="mjx-mtable" style="width: 100%; min-width: 15.775em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.005em;"><span id="MJXc-Node-1213" class="mjx-mlabeledtr" style="height: 1.11em;"><span id="MJXc-Node-1217" class="mjx-mtd" style="padding: 0px; width: 10.619em;"><span id="MJXc-Node-1218" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1219" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1220" class="mjx-texatom"><span id="MJXc-Node-1221" class="mjx-mrow"><span id="MJXc-Node-1222" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1223" class="mjx-texatom" style=""><span id="MJXc-Node-1224" class="mjx-mrow"><span id="MJXc-Node-1225" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1226" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1227" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1228" class="mjx-texatom" style=""><span id="MJXc-Node-1229" class="mjx-mrow"><span id="MJXc-Node-1230" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1231" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1232" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-1233" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1234" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1235" class="mjx-texatom"><span id="MJXc-Node-1236" class="mjx-mrow"><span id="MJXc-Node-1237" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1238" class="mjx-texatom" style=""><span id="MJXc-Node-1239" class="mjx-mrow"><span id="MJXc-Node-1240" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1241" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1242" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1243" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-1244" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-1245" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-1246" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1247" class="mjx-texatom"><span id="MJXc-Node-1248" class="mjx-mrow"><span id="MJXc-Node-1249" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1250" class="mjx-texatom" style=""><span id="MJXc-Node-1251" class="mjx-mrow"><span id="MJXc-Node-1252" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1253" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1254" class="mjx-texatom" style=""><span id="MJXc-Node-1255" class="mjx-mrow"><span id="MJXc-Node-1256" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-1257" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1258" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1259" class="mjx-texatom" style=""><span id="MJXc-Node-1260" class="mjx-mrow"><span id="MJXc-Node-1261" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1262" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1263" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.11em;"><span id="mjx-eqn-16" class="mjx-mtd"><span id="MJXc-Node-1215" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1216" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(16)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-16"><mtext>(16)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-61">\begin{equation}
\mathbf{T}_{WB_{i+1}} = \mathbf{T}_{WB_i} \ \Delta\mathbf{T}_{B_{i} B_{i+1} }
\end{equation}</script>

<p>In first place, we need to figure out a way to include the <em>noise</em> term <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-62-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1264" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1265" class="mjx-mrow"><span id="MJXc-Node-1266" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-1267" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1268" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>η</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-62">\eta_i</script> we used before to handle the uncertainties about our measurement <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-63-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1269" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1270" class="mjx-mrow"><span id="MJXc-Node-1271" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-1272" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1273" class="mjx-texatom"><span id="MJXc-Node-1274" class="mjx-mrow"><span id="MJXc-Node-1275" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1276" class="mjx-texatom" style=""><span id="MJXc-Node-1277" class="mjx-mrow"><span id="MJXc-Node-1278" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1279" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1280" class="mjx-texatom" style=""><span id="MJXc-Node-1281" class="mjx-mrow"><span id="MJXc-Node-1282" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-1283" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1284" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1285" class="mjx-texatom" style=""><span id="MJXc-Node-1286" class="mjx-mrow"><span id="MJXc-Node-1287" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1288" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1289" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-63">\Delta\mathbf{T}_{B_{i} B_{i+1} }</script>, which was also the <em>trick</em> we used to generate the Gaussian factors we use in our factor graph. For now, we will say that the noise will be given by a matrix <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-64-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;double-struck&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1290" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1291" class="mjx-mrow"><span id="MJXc-Node-1292" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1293" class="mjx-texatom"><span id="MJXc-Node-1294" class="mjx-mrow"><span id="MJXc-Node-1295" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">N</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1296" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-1297" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.37em;">∈</span></span><span id="MJXc-Node-1298" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1299" class="mjx-texatom"><span id="MJXc-Node-1300" class="mjx-mrow"><span id="MJXc-Node-1301" class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1302" class="mjx-texatom" style=""><span id="MJXc-Node-1303" class="mjx-mrow"><span id="MJXc-Node-1304" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">4</span></span><span id="MJXc-Node-1305" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.318em;">×</span></span><span id="MJXc-Node-1306" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">4</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">N</mi></mrow><mi>i</mi></msub><mo>∈</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>4</mn><mo>×</mo><mn>4</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-64">\mathbf{N}_i \in \mathbb{R}^{4\times4}</script>, which holds the following:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-65-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 11.799em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-17&quot;&gt;&lt;mtext&gt;(17)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1307" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-1308" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-1309" class="mjx-mtable" style="width: 100%; min-width: 16.955em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.005em;"><span id="MJXc-Node-1310" class="mjx-mlabeledtr" style="height: 1.11em;"><span id="MJXc-Node-1314" class="mjx-mtd" style="padding: 0px; width: 11.799em;"><span id="MJXc-Node-1315" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1316" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1317" class="mjx-texatom"><span id="MJXc-Node-1318" class="mjx-mrow"><span id="MJXc-Node-1319" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1320" class="mjx-texatom" style=""><span id="MJXc-Node-1321" class="mjx-mrow"><span id="MJXc-Node-1322" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1323" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1324" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1325" class="mjx-texatom" style=""><span id="MJXc-Node-1326" class="mjx-mrow"><span id="MJXc-Node-1327" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1328" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1329" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-1330" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1331" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1332" class="mjx-texatom"><span id="MJXc-Node-1333" class="mjx-mrow"><span id="MJXc-Node-1334" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1335" class="mjx-texatom" style=""><span id="MJXc-Node-1336" class="mjx-mrow"><span id="MJXc-Node-1337" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1338" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1339" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1340" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-1341" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-1342" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-1343" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1344" class="mjx-texatom"><span id="MJXc-Node-1345" class="mjx-mrow"><span id="MJXc-Node-1346" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1347" class="mjx-texatom" style=""><span id="MJXc-Node-1348" class="mjx-mrow"><span id="MJXc-Node-1349" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1350" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1351" class="mjx-texatom" style=""><span id="MJXc-Node-1352" class="mjx-mrow"><span id="MJXc-Node-1353" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-1354" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1355" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1356" class="mjx-texatom" style=""><span id="MJXc-Node-1357" class="mjx-mrow"><span id="MJXc-Node-1358" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1359" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1360" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-1361" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1362" class="mjx-texatom"><span id="MJXc-Node-1363" class="mjx-mrow"><span id="MJXc-Node-1364" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">N</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1365" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.11em;"><span id="mjx-eqn-17" class="mjx-mtd"><span id="MJXc-Node-1312" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1313" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(17)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-17"><mtext>(17)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">N</mi></mrow><mi>i</mi></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-65">\begin{equation}
\mathbf{T}_{WB_{i+1}} = \mathbf{T}_{WB_i} \ \Delta\mathbf{T}_{B_{i} B_{i+1}} \mathbf{N}_i
\end{equation}</script>

<p>Secondly, assuming the noise <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-66-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1366" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1367" class="mjx-mrow"><span id="MJXc-Node-1368" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1369" class="mjx-texatom"><span id="MJXc-Node-1370" class="mjx-mrow"><span id="MJXc-Node-1371" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">N</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1372" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">N</mi></mrow><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-66">\mathbf{N}_i</script> was defined somehow, we can isolate it as we did before. However, we need to use matrix operations now:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-67-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 13.516em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-18&quot;&gt;&lt;mtext&gt;(18)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1373" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-1374" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-1375" class="mjx-mtable" style="width: 100%; min-width: 18.672em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.046em;"><span id="MJXc-Node-1376" class="mjx-mlabeledtr" style="height: 1.211em;"><span id="MJXc-Node-1380" class="mjx-mtd" style="padding: 0px; width: 13.516em;"><span id="MJXc-Node-1381" class="mjx-mrow" style="margin-top: -0.098em;"><span id="MJXc-Node-1382" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1383" class="mjx-texatom"><span id="MJXc-Node-1384" class="mjx-mrow"><span id="MJXc-Node-1385" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">N</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1386" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-1387" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1388" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1389" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1390" class="mjx-texatom"><span id="MJXc-Node-1391" class="mjx-mrow"><span id="MJXc-Node-1392" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1393" class="mjx-texatom" style=""><span id="MJXc-Node-1394" class="mjx-mrow"><span id="MJXc-Node-1395" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1396" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1397" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1398" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-1399" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-1400" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-1401" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1402" class="mjx-texatom"><span id="MJXc-Node-1403" class="mjx-mrow"><span id="MJXc-Node-1404" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1405" class="mjx-texatom" style=""><span id="MJXc-Node-1406" class="mjx-mrow"><span id="MJXc-Node-1407" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1408" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1409" class="mjx-texatom" style=""><span id="MJXc-Node-1410" class="mjx-mrow"><span id="MJXc-Node-1411" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-1412" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1413" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1414" class="mjx-texatom" style=""><span id="MJXc-Node-1415" class="mjx-mrow"><span id="MJXc-Node-1416" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1417" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1418" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-1419" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1420" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1421" class="mjx-texatom" style=""><span id="MJXc-Node-1422" class="mjx-mrow"><span id="MJXc-Node-1423" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-1424" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1425" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1426" class="mjx-texatom"><span id="MJXc-Node-1427" class="mjx-mrow"><span id="MJXc-Node-1428" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1429" class="mjx-texatom" style=""><span id="MJXc-Node-1430" class="mjx-mrow"><span id="MJXc-Node-1431" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1432" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1433" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1434" class="mjx-texatom" style=""><span id="MJXc-Node-1435" class="mjx-mrow"><span id="MJXc-Node-1436" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1437" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1438" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.211em;"><span id="mjx-eqn-18" class="mjx-mtd"><span id="MJXc-Node-1378" class="mjx-mrow" style="margin-top: -0.098em;"><span id="MJXc-Node-1379" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(18)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-18"><mtext>(18)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">N</mi></mrow><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msup><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-67">\begin{equation}
\mathbf{N}_i = (\mathbf{T}_{WB_i} \ \Delta\mathbf{T}_{B_{i} B_{i+1}})^{-1} \mathbf{T}_{WB_{i+1}}
\end{equation}</script>

<p>and we can manipulate it a bit for clarity:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-68-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 14.983em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-19&quot;&gt;&lt;mtext&gt;(19)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1439" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-1440" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-1441" class="mjx-mtable" style="width: 100%; min-width: 20.139em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.046em;"><span id="MJXc-Node-1442" class="mjx-mlabeledtr" style="height: 1.211em;"><span id="MJXc-Node-1446" class="mjx-mtd" style="padding: 0px; width: 14.983em;"><span id="MJXc-Node-1447" class="mjx-mrow" style="margin-top: -0.098em;"><span id="MJXc-Node-1448" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1449" class="mjx-texatom"><span id="MJXc-Node-1450" class="mjx-mrow"><span id="MJXc-Node-1451" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">N</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1452" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-1453" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1454" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1455" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-1456" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1457" class="mjx-texatom"><span id="MJXc-Node-1458" class="mjx-mrow"><span id="MJXc-Node-1459" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1460" class="mjx-texatom" style=""><span id="MJXc-Node-1461" class="mjx-mrow"><span id="MJXc-Node-1462" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1463" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1464" class="mjx-texatom" style=""><span id="MJXc-Node-1465" class="mjx-mrow"><span id="MJXc-Node-1466" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-1467" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1468" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1469" class="mjx-texatom" style=""><span id="MJXc-Node-1470" class="mjx-mrow"><span id="MJXc-Node-1471" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1472" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1473" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-1474" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1475" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1476" class="mjx-texatom" style=""><span id="MJXc-Node-1477" class="mjx-mrow"><span id="MJXc-Node-1478" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-1479" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1480" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1481" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1482" class="mjx-texatom"><span id="MJXc-Node-1483" class="mjx-mrow"><span id="MJXc-Node-1484" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1485" class="mjx-texatom" style=""><span id="MJXc-Node-1486" class="mjx-mrow"><span id="MJXc-Node-1487" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1488" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1489" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1490" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-1491" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1492" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1493" class="mjx-texatom" style=""><span id="MJXc-Node-1494" class="mjx-mrow"><span id="MJXc-Node-1495" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-1496" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1497" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1498" class="mjx-texatom"><span id="MJXc-Node-1499" class="mjx-mrow"><span id="MJXc-Node-1500" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1501" class="mjx-texatom" style=""><span id="MJXc-Node-1502" class="mjx-mrow"><span id="MJXc-Node-1503" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-1504" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1505" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1506" class="mjx-texatom" style=""><span id="MJXc-Node-1507" class="mjx-mrow"><span id="MJXc-Node-1508" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1509" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1510" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.211em;"><span id="mjx-eqn-19" class="mjx-mtd"><span id="MJXc-Node-1444" class="mjx-mrow" style="margin-top: -0.098em;"><span id="MJXc-Node-1445" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(19)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-19"><mtext>(19)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">N</mi></mrow><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msup><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-68">\begin{equation}
\mathbf{N}_i = (\Delta\mathbf{T}_{B_{i} B_{i+1}})^{-1} (\mathbf{T}_{WB_i})^{-1} \mathbf{T}_{WB_{i+1}}
\end{equation}</script>

<p>If we do the subindex cancelation trick we did before, properly swapping the indices due to the inverses, we can confirm that the error is defined <em>in frame</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-69-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1511" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1512" class="mjx-mrow"><span id="MJXc-Node-1513" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1514" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1515" class="mjx-texatom" style=""><span id="MJXc-Node-1516" class="mjx-mrow"><span id="MJXc-Node-1517" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1518" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1519" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-69">B_{i+1}</script> <em>and expressed in frame</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-70-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1520" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1521" class="mjx-mrow"><span id="MJXc-Node-1522" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1523" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1524" class="mjx-texatom" style=""><span id="MJXc-Node-1525" class="mjx-mrow"><span id="MJXc-Node-1526" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1527" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1528" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-70">B_{i+1}</script>. This may seen counterintuitive, but in fact describes what we want: the degree of mismatch between our models and measurements to express the pose at frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-71-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1529" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1530" class="mjx-mrow"><span id="MJXc-Node-1531" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1532" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1533" class="mjx-texatom" style=""><span id="MJXc-Node-1534" class="mjx-mrow"><span id="MJXc-Node-1535" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1536" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-1537" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-71">B_{i+1}</script>, which ideally should be zero.</p>

<p>However, the error is still a matrix, which is impossible to include as a factor in the framework we have built so far. We cannot compute a <em>vector residual</em> as we did before, nor we are completely sure that the matrix <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-72-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1538" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1539" class="mjx-mrow"><span id="MJXc-Node-1540" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1541" class="mjx-texatom"><span id="MJXc-Node-1542" class="mjx-mrow"><span id="MJXc-Node-1543" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">N</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1544" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">N</mi></mrow><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-72">\mathbf{N}_i</script> follows some sort of Gaussian distribution.</p>

<p>We need to define some important concepts used in GTSAM to get a better understanding on how the objects are manipulated.</p>

<h3 id="some-objects-are-groups">Some objects are <em>groups</em></h3>
<p>First of all, some objects used in GTSAM are <a href="https://en.wikipedia.org/wiki/Group_(mathematics)"><strong>groups</strong></a>. Rigid-body transformations <code class="language-plaintext highlighter-rouge">Pose3</code> and <code class="language-plaintext highlighter-rouge">Pose2</code> in GTSAM), rotation matrices (<code class="language-plaintext highlighter-rouge">Rot2</code> and <code class="language-plaintext highlighter-rouge">Rot3</code>) and quaternions, and of course vector spaces (<code class="language-plaintext highlighter-rouge">Point2</code> and <code class="language-plaintext highlighter-rouge">Point3</code>) have some basic operations that allow us to manipulate them. These concepts <a href="https://gtsam.org/notes/GTSAM-Concepts.html">have been discussed in previous posts</a> at the implementation level:</p>

<ol>
  <li><strong>Composition</strong>: How to compose 2 objects from the same manifold, with associativity properties. It is similar to the <em>addition</em> operation for vectors.</li>
  <li><strong>Identity</strong>: An identity operator under the composition/between.</li>
  <li><strong>Inverse</strong>: An element that when composed with its inverse becomes the identity.</li>
</ol>

<p>The previous 3 operations allows us to define the operation <strong>between</strong>, which computes the difference between 2 objects from the same group, similarly to a <em>subtraction</em> operation.</p>

<p>Since the operations can be defined in different ways for each kind of object (it is different to compose rotation matrices than quaternions or vectors for instance), some authors define special operators to refer to composition/between operations. Some examples are the <em>box-plus</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-73-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x229E;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1545" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1546" class="mjx-mrow"><span id="MJXc-Node-1547" class="mjx-mo"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">⊞</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>⊞</mo></math></span></span><script type="math/tex" id="MathJax-Element-73">\boxplus</script> for <em>composition</em> and <em>box-minus</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-74-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x229F;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1548" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1549" class="mjx-mrow"><span id="MJXc-Node-1550" class="mjx-mo"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">⊟</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>⊟</mo></math></span></span><script type="math/tex" id="MathJax-Element-74">\boxminus</script> for <em>between</em> as done by <a href="https://arxiv.org/abs/1107.1119">Hertzberg et al.</a>, <a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.468.5407&amp;rep=rep1&amp;type=pdf">Blanco-Claraco</a>, <a href="https://arxiv.org/abs/1606.05285">Bloesch et al.</a>, and the <a href="https://github.com/ANYbotics/kindr">Kindr library</a>.</p>

<p>However, composition can be defined from the <em>left</em> or the <em>right</em> side because <strong>composition is associative but is not distributive</strong>. This is the same problem we described before when talking about reference frames and how to add small increments with the <em>left</em> and <em>right</em> hand conventions, since both are valid depending on our decisions or other authors’. While we can be clear about our own decisions, it is important to be aware of the definitions of each author because sometimes are not clearly stated. <a href="https://arxiv.org/abs/1812.01537">Solà et al</a> for example make the difference explicit by defining <em>left-</em><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-75-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x2295;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1551" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1552" class="mjx-mrow"><span id="MJXc-Node-1553" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">⊕</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>⊕</mo></math></span></span><script type="math/tex" id="MathJax-Element-75">\oplus</script> and <em>right-</em><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-76-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo&gt;&amp;#x2295;&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1554" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1555" class="mjx-mrow"><span id="MJXc-Node-1556" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">⊕</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>⊕</mo></math></span></span><script type="math/tex" id="MathJax-Element-76">\oplus</script> for composition using <em>left-hand convention</em> or <em>right-hand convention</em> respectively, but we need to be careful to recognize each other’s choices.</p>

<p><strong>We recall again that in GTSAM and the rest of this post we use the <em>right</em> convention</strong> (<em>pun intended</em>), because we represent our poses with respect to a fixed world frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-77-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1557" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1558" class="mjx-mrow"><span id="MJXc-Node-1559" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-77">W</script> and the increments are defined with respect to the body frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-78-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1560" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1561" class="mjx-mrow"><span id="MJXc-Node-1562" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-78">B</script>.</p>

<h3 id="some-are-manifolds">Some are <em>manifolds</em></h3>
<p>Additionally, rigid-body transformations, rotation matrices, quaternions and even vectors are <strong>differentiable manifolds</strong>. This means that even though they do not behave as Euclidean spaces at a global scale, they can be <em>locally approximated</em> as such by using local vector spaces called <strong>tangent spaces</strong>. The main advantage of analyzing all these objects from the manifold perspective is that we can build general algorithms based on common principles that apply to all of them.</p>

<p><a name="manifold"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/manifold.png" alt="Manifold and tangents spaces">
    <figcaption> While a manifold have a non-Euclidean structure, it can be locally approximated by tangent spaces. In the figure, we illustrate different tangent spaces defined at the objects <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-79-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1563" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1564" class="mjx-mrow"><span id="MJXc-Node-1565" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1566" class="mjx-texatom"><span id="MJXc-Node-1567" class="mjx-mrow"><span id="MJXc-Node-1568" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1569" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-79">\mathbf{p}_1</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-80-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1570" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1571" class="mjx-mrow"><span id="MJXc-Node-1572" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1573" class="mjx-texatom"><span id="MJXc-Node-1574" class="mjx-mrow"><span id="MJXc-Node-1575" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1576" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">2</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-80">\mathbf{p}_2</script> on the manifold.</figcaption>
</figure>
<p><br></p>

<p>As we briefly mentioned before, objects such as rotation matrices are difficult to manipulate in the estimation framework because they are matrices. A 3D rotation matrix <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-81-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1577" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1578" class="mjx-mrow"><span id="MJXc-Node-1579" class="mjx-texatom"><span id="MJXc-Node-1580" class="mjx-mrow"><span id="MJXc-Node-1581" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-81">\mathbf{R}</script> represents 3 orientations with respect to a reference frame but, in raw terms, they are using 9 values to do so, which seems to <em>overparametrize</em> the object. However, the constraints that define a rotation matrix -and consequently the manifold- such as orthonormality <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-82-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;I&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1582" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1583" class="mjx-mrow"><span id="MJXc-Node-1584" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1585" class="mjx-texatom"><span id="MJXc-Node-1586" class="mjx-mrow"><span id="MJXc-Node-1587" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.619em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1588" class="mjx-texatom" style=""><span id="MJXc-Node-1589" class="mjx-mrow"><span id="MJXc-Node-1590" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.12em;">T</span></span></span></span></span></span><span id="MJXc-Node-1591" class="mjx-texatom"><span id="MJXc-Node-1592" class="mjx-mrow"><span id="MJXc-Node-1593" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span><span id="MJXc-Node-1594" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1595" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-1596" class="mjx-mrow"><span id="MJXc-Node-1597" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">I</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">I</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-82">\mathbf{R}^{T}\mathbf{R} = \mathbf{I}</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-83-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;det&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1598" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1599" class="mjx-mrow"><span id="MJXc-Node-1600" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">det</span></span><span id="MJXc-Node-1601" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1602" class="mjx-texatom"><span id="MJXc-Node-1603" class="mjx-mrow"><span id="MJXc-Node-1604" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">R</span></span></span></span><span id="MJXc-Node-1605" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-1606" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1607" class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>det</mtext><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">R</mi></mrow><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-83">\text{det}(\mathbf{R}) = 1</script> make the inherent dimensionality of the rotation still 3. Interestingly, this is <em>exactly the dimensionality of the tangent spaces that can be defined over the manifold</em>.</p>

<p><strong>That is what makes working with manifolds so convenient</strong>: All the constraints that are part of the definition of the object are naturally handled, and we can work in tangent vector spaces using their <em>inherent</em> dimension. The same happens for rigid-body transformations (6 dimensions represented by a 16 elements matrix), quaternions (3 orientations represented by a 4D vector), <strong>and even objects that are not groups, such as unit vectors</strong>.</p>

<p>In order to work with manifolds, we need to define 2 operations, which are the key to transform objects between them and the tangent spaces:</p>

<ol>
  <li><strong>Retract or retraction</strong>: An operation that maps elements <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-84-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1608" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1609" class="mjx-mrow"><span id="MJXc-Node-1610" class="mjx-texatom"><span id="MJXc-Node-1611" class="mjx-mrow"><span id="MJXc-Node-1612" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-84">\mathbf{\xi}</script> from the tangent space at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-85-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1613" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1614" class="mjx-mrow"><span id="MJXc-Node-1615" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1616" class="mjx-texatom"><span id="MJXc-Node-1617" class="mjx-mrow"><span id="MJXc-Node-1618" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1619" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-85">\mathbf{p}_1</script> to the manifold: <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-86-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mtext&gt;retract&lt;/mtext&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1620" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1621" class="mjx-mrow"><span id="MJXc-Node-1622" class="mjx-texatom"><span id="MJXc-Node-1623" class="mjx-mrow"><span id="MJXc-Node-1624" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span><span id="MJXc-Node-1625" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1626" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1627" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.37em;">retract</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1628" class="mjx-texatom" style=""><span id="MJXc-Node-1629" class="mjx-mrow"><span id="MJXc-Node-1630" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1631" class="mjx-texatom"><span id="MJXc-Node-1632" class="mjx-mrow"><span id="MJXc-Node-1633" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1634" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-1635" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1636" class="mjx-texatom"><span id="MJXc-Node-1637" class="mjx-mrow"><span id="MJXc-Node-1638" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span><span id="MJXc-Node-1639" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mo>=</mo><msub><mtext>retract</mtext><mrow class="MJX-TeXAtom-ORD"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></mrow></msub><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-86">\mathbf{p} = \text{retract}_{\mathbf{p}_1}(\mathbf{\xi})</script>.</li>
  <li><strong>Local</strong>: the opposite operation: mapping elements <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-87-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1640" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1641" class="mjx-mrow"><span id="MJXc-Node-1642" class="mjx-texatom"><span id="MJXc-Node-1643" class="mjx-mrow"><span id="MJXc-Node-1644" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-87">\mathbf{p}</script> from the manifold to the tangent space <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-88-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mtext&gt;local&lt;/mtext&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1645" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1646" class="mjx-mrow"><span id="MJXc-Node-1647" class="mjx-texatom"><span id="MJXc-Node-1648" class="mjx-mrow"><span id="MJXc-Node-1649" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span><span id="MJXc-Node-1650" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1651" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1652" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">local</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1653" class="mjx-texatom" style=""><span id="MJXc-Node-1654" class="mjx-mrow"><span id="MJXc-Node-1655" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1656" class="mjx-texatom"><span id="MJXc-Node-1657" class="mjx-mrow"><span id="MJXc-Node-1658" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1659" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-1660" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1661" class="mjx-texatom"><span id="MJXc-Node-1662" class="mjx-mrow"><span id="MJXc-Node-1663" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span><span id="MJXc-Node-1664" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mo>=</mo><msub><mtext>local</mtext><mrow class="MJX-TeXAtom-ORD"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></mrow></msub><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-88">\mathbf{\xi} = \text{local}_{\mathbf{p}_1}(\mathbf{p})</script></li>
</ol>

<p><a name="manifold_retract"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/manifold-retract-zoom.png" alt="Retract operation on a manifold">
    <figcaption>The <i>retract</i> operation maps an element <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-89-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1665" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1666" class="mjx-mrow"><span id="MJXc-Node-1667" class="mjx-texatom"><span id="MJXc-Node-1668" class="mjx-mrow"><span id="MJXc-Node-1669" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.483em; padding-right: 0.005em;">ξ</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-89">\mathbf{\xi}</script> defined in the tangent space at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-90-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1670" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1671" class="mjx-mrow"><span id="MJXc-Node-1672" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1673" class="mjx-texatom"><span id="MJXc-Node-1674" class="mjx-mrow"><span id="MJXc-Node-1675" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1676" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-90">\mathbf{p}_1</script> back to the manifold.</figcaption>
</figure>
<p><br></p>

<p><a name="manifold_retract"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/manifold-retract.png" alt="Retract operation on a manifold simplified">
    <figcaption>An alternative figure to represent the retraction that will be used in the rest of the post, since it shows the interactions between the manifold and the tangent space more explicitly. We can clearly observe that the element <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-91-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1677" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1678" class="mjx-mrow"><span id="MJXc-Node-1679" class="mjx-texatom"><span id="MJXc-Node-1680" class="mjx-mrow"><span id="MJXc-Node-1681" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-91">\mathbf{p}</script> generated by the retraction is also defined with respect to <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-92-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1682" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1683" class="mjx-mrow"><span id="MJXc-Node-1684" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1685" class="mjx-texatom"><span id="MJXc-Node-1686" class="mjx-mrow"><span id="MJXc-Node-1687" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1688" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-92">\mathbf{p}_1</script> on the manifold.</figcaption>
</figure>
<p><br></p>

<p><a name="manifold_local"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/manifold-local.png" alt="Local operation on a manifold">
    <figcaption>The <i>local</i> operation does the opposite, and maps an element <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-93-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1689" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1690" class="mjx-mrow"><span id="MJXc-Node-1691" class="mjx-texatom"><span id="MJXc-Node-1692" class="mjx-mrow"><span id="MJXc-Node-1693" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-93">\mathbf{p}</script> defined with respect to <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-94-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1694" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1695" class="mjx-mrow"><span id="MJXc-Node-1696" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1697" class="mjx-texatom"><span id="MJXc-Node-1698" class="mjx-mrow"><span id="MJXc-Node-1699" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1700" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-94">\mathbf{p}_1</script> as an vector <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-95-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1701" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1702" class="mjx-mrow"><span id="MJXc-Node-1703" class="mjx-texatom"><span id="MJXc-Node-1704" class="mjx-mrow"><span id="MJXc-Node-1705" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.483em; padding-right: 0.005em;">ξ</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-95">\mathbf{\xi}</script> in the tangent space.</figcaption>
</figure>
<p><br></p>

<p>Retractions are the fundamental concept to <a href="https://press.princeton.edu/absil">solve optimization problems</a> and to define uncertainties on manifolds. While the former will be covered later in this post with an example, it is useful to explain the latter now. The general idea is that we can define distributions on the tangent space, and map them back on the manifold using the retraction. For instance, we can define a zero-mean Gaussian variable <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-96-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;mo&gt;&amp;#x223C;&lt;/mo&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn mathvariant=&quot;bold&quot;&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1706" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1707" class="mjx-mrow"><span id="MJXc-Node-1708" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span><span id="MJXc-Node-1709" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">∼</span></span><span id="MJXc-Node-1710" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em;">G</span></span><span id="MJXc-Node-1711" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-1712" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">u</span></span><span id="MJXc-Node-1713" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-1714" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-1715" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1716" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-1717" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-1718" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1719" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1720" class="mjx-texatom"><span id="MJXc-Node-1721" class="mjx-mrow"><span id="MJXc-Node-1722" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">0</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1723" class="mjx-texatom" style=""><span id="MJXc-Node-1724" class="mjx-mrow"><span id="MJXc-Node-1725" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-1726" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.318em;">×</span></span><span id="MJXc-Node-1727" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1728" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-1729" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span><span id="MJXc-Node-1730" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>η</mi><mo>∼</mo><mi>G</mi><mi>a</mi><mi>u</mi><mi>s</mi><mi>s</mi><mi>i</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mn mathvariant="bold">0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mo>×</mo><mn>1</mn></mrow></msub><mo>,</mo><mi mathvariant="normal">Σ</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-96">\eta \sim Gaussian(\mathbf{0}_{n\times1}, \Sigma)</script> in the tangent space centered at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-97-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1731" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1732" class="mjx-mrow"><span id="MJXc-Node-1733" class="mjx-texatom"><span id="MJXc-Node-1734" class="mjx-mrow"><span id="MJXc-Node-1735" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-97">\mathbf{p}</script> and use the retraction:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-98-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 13.657em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-20&quot;&gt;&lt;mtext&gt;(20)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;:=&lt;/mo&gt;&lt;msub&gt;&lt;mtext&gt;retract&lt;/mtext&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1736" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-1737" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-1738" class="mjx-mtable" style="width: 100%; min-width: 18.813em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.021em;"><span id="MJXc-Node-1739" class="mjx-mlabeledtr" style="height: 1.142em;"><span id="MJXc-Node-1743" class="mjx-mtd" style="padding: 0px; width: 13.657em;"><span id="MJXc-Node-1744" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1745" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em;">G</span></span><span id="MJXc-Node-1746" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-1747" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">u</span></span><span id="MJXc-Node-1748" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-1749" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-1750" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-1751" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-1752" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-1753" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1754" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1755" class="mjx-texatom"><span id="MJXc-Node-1756" class="mjx-mrow"><span id="MJXc-Node-1757" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1758" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span id="MJXc-Node-1759" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-1760" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-1761" class="mjx-mrow"><span id="MJXc-Node-1762" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span></span></span><span id="MJXc-Node-1763" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-1764" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">:<span class="mjx-charbox MJXc-TeX-main-R" style="padding-bottom: 0.314em;">=</span></span></span><span id="MJXc-Node-1765" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1766" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.37em;">retract</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1767" class="mjx-texatom" style=""><span id="MJXc-Node-1768" class="mjx-mrow"><span id="MJXc-Node-1769" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1770" class="mjx-texatom"><span id="MJXc-Node-1771" class="mjx-mrow"><span id="MJXc-Node-1772" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.58em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1773" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-1774" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1775" class="mjx-texatom"><span id="MJXc-Node-1776" class="mjx-mrow"><span id="MJXc-Node-1777" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span></span></span><span id="MJXc-Node-1778" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.142em;"><span id="mjx-eqn-20" class="mjx-mtd"><span id="MJXc-Node-1741" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1742" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(20)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-20"><mtext>(20)</mtext></mtd><mtd><mi>G</mi><mi>a</mi><mi>u</mi><mi>s</mi><mi>s</mi><mi>i</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub><mo>,</mo><mrow class="MJX-TeXAtom-ORD"><mi>η</mi></mrow><mo stretchy="false">)</mo><mo>:=</mo><msub><mtext>retract</mtext><mrow class="MJX-TeXAtom-ORD"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></mrow></msub><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mi>η</mi></mrow><mo stretchy="false">)</mo></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-98">\begin{equation}
Gaussian(\mathbf{p}_1, \mathbf{\eta}) := \text{retract}_{\mathbf{p}_1}(\mathbf{\eta})
\end{equation}</script>

<p>which graphically corresponds to:</p>

<p><a name="manifold_gaussian"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/manifold-gaussian.png" alt="Gaussian on a manifold">
    <figcaption>Using the retraction, we can define Gaussians on the tangent space centered at some element <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-99-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1779" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1780" class="mjx-mrow"><span id="MJXc-Node-1781" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1782" class="mjx-texatom"><span id="MJXc-Node-1783" class="mjx-mrow"><span id="MJXc-Node-1784" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1785" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-99">\mathbf{p}_1</script> and map them back on the manifold to construct Gaussians on the manifold with mean <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-100-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1786" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1787" class="mjx-mrow"><span id="MJXc-Node-1788" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1789" class="mjx-texatom"><span id="MJXc-Node-1790" class="mjx-mrow"><span id="MJXc-Node-1791" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.123em; padding-bottom: 0.543em;">p</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.36em; padding-right: 0.071em;"><span id="MJXc-Node-1792" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">p</mi></mrow><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-100">\mathbf{p}_1</script> and covariance <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-101-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;Cov&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1793" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1794" class="mjx-mrow"><span id="MJXc-Node-1795" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.363em;">Cov</span></span><span id="MJXc-Node-1796" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.483em; padding-bottom: 0.603em;">(</span></span><span id="MJXc-Node-1797" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.243em; padding-bottom: 0.483em; padding-right: 0.006em;">η</span></span><span id="MJXc-Node-1798" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.483em; padding-bottom: 0.603em;">)</span></span><span id="MJXc-Node-1799" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.063em; padding-bottom: 0.303em;">=</span></span><span id="MJXc-Node-1800" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.363em;">Σ</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>η</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">Σ</mi></math></span></span><script type="math/tex" id="MathJax-Element-101">\text{Cov}(\eta) = \Sigma</script>.</figcaption>
</figure>
<p><br></p>

<p>Please note that we have defined the retraction <strong>from the right</strong>, since this matches the convention used by GTSAM, which coincidently also matches the composition operator for groups. However, in the literature we can find different definitions: <a href="http://ncfrn.cim.mcgill.ca/members/pubs/barfoot_tro14.pdf">Barfoot and Furgale (2014, left-hand convention)</a>, <a href="https://arxiv.org/abs/1512.02363">Forster et al (2017, right-hand convention)</a>, and <a href="https://arxiv.org/abs/1906.07795">Mangelson et al. (2020, left-hand convention)</a> are some examples. Other definitions to define probability distributions on manifolds include <a href="https://arxiv.org/abs/1909.05946">Calinon (2020)</a> and <a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.175.5054&amp;rep=rep1&amp;type=pdf">Lee et al. (2008)</a>, please refer to their work for further details.</p>

<h3 id="and-others-are-both-lie-groups">And others are both: Lie groups</h3>
<p>In GTSAM <strong>we only need the objects to be differentiable manifolds in order to optimize them</strong> in the estimation framework, <strong>being groups is not a requirement at all</strong>. However, it is important to be aware that <em>some</em> of the objects we deal with are <strong>both groups and differentiable manifolds</strong>, known as <a href="https://en.wikipedia.org/wiki/Lie_group"><strong>Lie groups</strong></a>, which is the formulation generally found in state estimation literature.</p>

<p><a name="lie_group_tangent"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/lie-group.png" alt="">
    <figcaption>Lie groups are both groups and differentiable manifolds. They define a tangent space at the identity that allows to represent any object on the manifold through a retraction defined at the identity, known as exponential map, as well as a local operation also at the identity - the logarithm map.</figcaption>
</figure>
<p><br></p>

<p>Objects such as rigid-body matrices and quaternions are Lie groups. 2D rigid-body transformations are elements of the <em>Special Euclidean group</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-102-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(2)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1801" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1802" class="mjx-mrow"><span id="MJXc-Node-1803" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(2)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(2)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-102">\text{SE(2)}</script>, while 2D and 3D rotations are from the <em>Special Orthogonal groups</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-103-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SO(2)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1804" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1805" class="mjx-mrow"><span id="MJXc-Node-1806" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SO(2)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SO(2)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-103">\text{SO(2)}</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-104-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SO(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1807" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1808" class="mjx-mrow"><span id="MJXc-Node-1809" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SO(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SO(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-104">\text{SO(3)}</script> respectively. 3D rigid-body transformations are objects of <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-105-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1810" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1811" class="mjx-mrow"><span id="MJXc-Node-1812" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-105">\text{SE(3)}</script> and we can use those definitions to define the operations we described before for groups and manifolds:</p>

<ol>
  <li><strong>Composition</strong>: Matrix multiplication <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-106-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1813" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1814" class="mjx-mrow"><span id="MJXc-Node-1815" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1816" class="mjx-texatom"><span id="MJXc-Node-1817" class="mjx-mrow"><span id="MJXc-Node-1818" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1819" class="mjx-texatom" style=""><span id="MJXc-Node-1820" class="mjx-mrow"><span id="MJXc-Node-1821" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1822" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-1823" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1824" class="mjx-texatom"><span id="MJXc-Node-1825" class="mjx-mrow"><span id="MJXc-Node-1826" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1827" class="mjx-texatom" style=""><span id="MJXc-Node-1828" class="mjx-mrow"><span id="MJXc-Node-1829" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow></msub><mtext>&nbsp;</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-106">\mathbf{T}_{1} \ \mathbf{T}_{2}</script>.</li>
  <li><strong>Identity</strong>: Identity matrix <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-107-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;I&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1830" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1831" class="mjx-mrow"><span id="MJXc-Node-1832" class="mjx-texatom"><span id="MJXc-Node-1833" class="mjx-mrow"><span id="MJXc-Node-1834" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">I</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">I</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-107">\mathbf{I}</script>.</li>
  <li><strong>Inverse</strong>: Matrix inverse <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-108-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1835" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1836" class="mjx-mrow"><span id="MJXc-Node-1837" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1838" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1839" class="mjx-texatom"><span id="MJXc-Node-1840" class="mjx-mrow"><span id="MJXc-Node-1841" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1842" class="mjx-texatom" style=""><span id="MJXc-Node-1843" class="mjx-mrow"><span id="MJXc-Node-1844" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1845" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1846" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1847" class="mjx-texatom" style=""><span id="MJXc-Node-1848" class="mjx-mrow"><span id="MJXc-Node-1849" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-1850" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow></msub><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-108">(\mathbf{T}_{1})^{-1}</script></li>
  <li><strong>Retract</strong>: The retraction is defined at the tangent space at the identity, which is known as the <em>exponential map</em> of <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-109-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1851" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1852" class="mjx-mrow"><span id="MJXc-Node-1853" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-109">\text{SE(3)}</script>: <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-110-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mtext&gt;retract&lt;/mtext&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;I&lt;/mi&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;:=&lt;/mo&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1854" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1855" class="mjx-mrow"><span id="MJXc-Node-1856" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1857" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.37em;">retract</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1858" class="mjx-texatom" style=""><span id="MJXc-Node-1859" class="mjx-mrow"><span id="MJXc-Node-1860" class="mjx-texatom"><span id="MJXc-Node-1861" class="mjx-mrow"><span id="MJXc-Node-1862" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">I</span></span></span></span></span></span></span></span><span id="MJXc-Node-1863" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1864" class="mjx-texatom"><span id="MJXc-Node-1865" class="mjx-mrow"><span id="MJXc-Node-1866" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span><span id="MJXc-Node-1867" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-1868" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">:<span class="mjx-charbox MJXc-TeX-main-R" style="padding-bottom: 0.314em;">=</span></span></span><span id="MJXc-Node-1869" class="mjx-mtext MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.528em;">Exp</span></span><span id="MJXc-Node-1870" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1871" class="mjx-texatom"><span id="MJXc-Node-1872" class="mjx-mrow"><span id="MJXc-Node-1873" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span><span id="MJXc-Node-1874" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mtext>retract</mtext><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">I</mi></mrow></mrow></msub><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mo stretchy="false">)</mo><mo>:=</mo><mtext>Exp</mtext><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-110">\text{retract}_{\mathbf{I}}(\mathbf{\xi}) := \text{Exp}(\mathbf{\xi})</script>.</li>
  <li><strong>Local</strong>: It is also defined at the identity and known as the <em>logarithm map</em> of <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-111-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1875" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1876" class="mjx-mrow"><span id="MJXc-Node-1877" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-111">\text{SE(3)}</script>: <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-112-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mtext&gt;local&lt;/mtext&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;I&lt;/mi&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;:=&lt;/mo&gt;&lt;mtext&gt;Log&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1878" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1879" class="mjx-mrow"><span id="MJXc-Node-1880" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1881" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">local</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1882" class="mjx-texatom" style=""><span id="MJXc-Node-1883" class="mjx-mrow"><span id="MJXc-Node-1884" class="mjx-texatom"><span id="MJXc-Node-1885" class="mjx-mrow"><span id="MJXc-Node-1886" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">I</span></span></span></span></span></span></span></span><span id="MJXc-Node-1887" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">:<span class="mjx-charbox MJXc-TeX-main-R" style="padding-bottom: 0.314em;">=</span></span></span><span id="MJXc-Node-1888" class="mjx-mtext MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">Log</span></span><span id="MJXc-Node-1889" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1890" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1891" class="mjx-texatom"><span id="MJXc-Node-1892" class="mjx-mrow"><span id="MJXc-Node-1893" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1894" class="mjx-texatom" style=""><span id="MJXc-Node-1895" class="mjx-mrow"><span id="MJXc-Node-1896" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-1897" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mtext>local</mtext><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">I</mi></mrow></mrow></msub><mo>:=</mo><mtext>Log</mtext><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-112">\text{local}_{\mathbf{I}} := \text{Log}(\mathbf{T}_{1} )</script>.</li>
</ol>

<p>Please note here that we used <em>capitalized</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-113-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;Log&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;:=&lt;/mo&gt;&lt;mtext&gt;log&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2228;&lt;/mo&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1898" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1899" class="mjx-mrow"><span id="MJXc-Node-1900" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">Log</span></span><span id="MJXc-Node-1901" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1902" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.003em; padding-bottom: 0.318em;">⋅</span></span><span id="MJXc-Node-1903" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-1904" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">:<span class="mjx-charbox MJXc-TeX-main-R" style="padding-bottom: 0.314em;">=</span></span></span><span id="MJXc-Node-1905" class="mjx-mtext MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">log</span></span><span id="MJXc-Node-1906" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1907" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.003em; padding-bottom: 0.318em;">⋅</span></span><span id="MJXc-Node-1908" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1909" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1910" class="mjx-texatom" style=""><span id="MJXc-Node-1911" class="mjx-mrow"><span id="MJXc-Node-1912" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.37em;">∨</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>Log</mtext><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo><mo>:=</mo><mtext>log</mtext><mo stretchy="false">(</mo><mo>⋅</mo><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>∨</mo></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-113">\text{Log}(\cdot) := \text{log}( \cdot)^{\vee}</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-114-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;:=&lt;/mo&gt;&lt;mtext&gt;exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2227;&lt;/mo&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1913" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1914" class="mjx-mrow"><span id="MJXc-Node-1915" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.528em;">Exp</span></span><span id="MJXc-Node-1916" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1917" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.003em; padding-bottom: 0.318em;">⋅</span></span><span id="MJXc-Node-1918" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-1919" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">:<span class="mjx-charbox MJXc-TeX-main-R" style="padding-bottom: 0.314em;">=</span></span></span><span id="MJXc-Node-1920" class="mjx-mtext MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.528em;">exp</span></span><span id="MJXc-Node-1921" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1922" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1923" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.003em; padding-bottom: 0.318em;">⋅</span></span><span id="MJXc-Node-1924" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1925" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1926" class="mjx-texatom" style=""><span id="MJXc-Node-1927" class="mjx-mrow"><span id="MJXc-Node-1928" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.37em;">∧</span></span></span></span></span></span><span id="MJXc-Node-1929" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>Exp</mtext><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo><mo>:=</mo><mtext>exp</mtext><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo>⋅</mo><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>∧</mo></mrow></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-114">\text{Exp}(\cdot):=\text{exp}( (\cdot)^{\wedge})</script> operators for simplicity as used by <a href="https://arxiv.org/abs/1512.02363">Forster et al (2017),</a> and <a href="https://arxiv.org/abs/1812.01537">Solà et al. (2020)</a>, since they are easy to understand under the retractions perspective. Refer to Solà et al. for a more detailed description, including the relationship between tangents spaces and the <em>Lie algebra</em>.</p>

<p>In GTSAM, 3D poses are implemented as <code class="language-plaintext highlighter-rouge">Pose3</code> objects and we can think of them as <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-115-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1930" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1931" class="mjx-mrow"><span id="MJXc-Node-1932" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-115">\text{SE(3)}</script> elements. Therefore, to keep things simple, we will stay using the logarithm map and exponential map to talk about their retraction and local operators. However, GTSAM also allows us to use alternative retractions for some cases, which would be like <em>using other Lie groups</em> to represent poses, such as the <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-116-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;double-struck&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mtext&gt;SO&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1933" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1934" class="mjx-mrow"><span id="MJXc-Node-1935" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1936" class="mjx-texatom"><span id="MJXc-Node-1937" class="mjx-mrow"><span id="MJXc-Node-1938" class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1939" class="mjx-texatom" style=""><span id="MJXc-Node-1940" class="mjx-mrow"><span id="MJXc-Node-1941" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span></span></span></span></span><span id="MJXc-Node-1942" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.318em;">×</span></span><span id="MJXc-Node-1943" class="mjx-mtext MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">SO</span></span><span id="MJXc-Node-1944" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1945" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span><span id="MJXc-Node-1946" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow></msup><mo>×</mo><mtext>SO</mtext><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-116">\mathbb{R}^{3}\times\text{SO}(3)</script> group, which is explained <a href="https://gtsam.org/notes/GTSAM-Concepts.html">here</a>.</p>

<h3 id="reference-frames-on-manifolds">Reference frames on manifolds</h3>
<p>Reference frames <strong>are preserved when applying the local and retract operations</strong>. We will cover a few important ideas using <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-117-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1947" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1948" class="mjx-mrow"><span id="MJXc-Node-1949" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-117">\text{SE(3)}</script>, since it is related to our original problem of pose estimation.</p>

<p>First of all, when we talked about <em>the tangent space defined at the identity</em>, in physical terms it refers to having a fixed, global frame, which we use to express our poses. Then, when using the <em>local</em> operation defined as the logarithm map of <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-118-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1950" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1951" class="mjx-mrow"><span id="MJXc-Node-1952" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-118">\text{SE(3)}</script>, we obtain a vector <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-119-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;double-struck&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1953" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-1954" class="mjx-mrow"><span id="MJXc-Node-1955" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1956" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1957" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span><span id="MJXc-Node-1958" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.005em;"><span id="MJXc-Node-1959" class="mjx-texatom"><span id="MJXc-Node-1960" class="mjx-mrow"><span id="MJXc-Node-1961" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.375em; padding-right: 0.071em;"><span id="MJXc-Node-1962" class="mjx-texatom" style=""><span id="MJXc-Node-1963" class="mjx-mrow"><span id="MJXc-Node-1964" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span><span id="MJXc-Node-1965" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.37em;">∈</span></span><span id="MJXc-Node-1966" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-1967" class="mjx-texatom"><span id="MJXc-Node-1968" class="mjx-mrow"><span id="MJXc-Node-1969" class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-1970" class="mjx-texatom" style=""><span id="MJXc-Node-1971" class="mjx-mrow"><span id="MJXc-Node-1972" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">6</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi></mi><mi>W</mi></msub><msub><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi></mrow></msub><mo>∈</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>6</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-119">_W\mathbf{\xi}_{W} \in \mathbb{R}^{6}</script> (sometimes also called <em>tangent vector</em> or <em>twist</em>), which is defined in the tangent space <em>at the world frame</em>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-120-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 7.267em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-21&quot;&gt;&lt;mtext&gt;(21)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mtext&gt;Log&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-1973" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-1974" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-1975" class="mjx-mtable" style="width: 100%; min-width: 12.423em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.012em;"><span id="MJXc-Node-1976" class="mjx-mlabeledtr" style="height: 1.075em;"><span id="MJXc-Node-1980" class="mjx-mtd" style="padding: 0px; width: 7.267em;"><span id="MJXc-Node-1981" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1982" class="mjx-texatom"><span id="MJXc-Node-1983" class="mjx-mrow"><span id="MJXc-Node-1984" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1985" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1986" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span></span></span></span></span><span id="MJXc-Node-1987" class="mjx-texatom"><span id="MJXc-Node-1988" class="mjx-mrow"><span id="MJXc-Node-1989" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span><span id="MJXc-Node-1990" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-1991" class="mjx-mtext MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">Log</span></span><span id="MJXc-Node-1992" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-1993" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-1994" class="mjx-texatom"><span id="MJXc-Node-1995" class="mjx-mrow"><span id="MJXc-Node-1996" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-1997" class="mjx-texatom" style=""><span id="MJXc-Node-1998" class="mjx-mrow"><span id="MJXc-Node-1999" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2000" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2001" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2002" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2003" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.075em;"><span id="mjx-eqn-21" class="mjx-mtd"><span id="MJXc-Node-1978" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-1979" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(21)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-21"><mtext>(21)</mtext></mtd><mtd><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mi>W</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mo>=</mo><mtext>Log</mtext><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mo stretchy="false">)</mo></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-120">\begin{equation}
{_W}\mathbf{\xi} = \text{Log}(\mathbf{T}_{WB_i} )
\end{equation}</script>

<p><a name="lie_group_frames"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/lie-group-frames.png" alt="">
    <figcaption>In this example, the tangent space at the identity represents the world frame, on which any transformation <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-121-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2004" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2005" class="mjx-mrow"><span id="MJXc-Node-2006" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2007" class="mjx-texatom"><span id="MJXc-Node-2008" class="mjx-mrow"><span id="MJXc-Node-2009" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.363em; padding-bottom: 0.363em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2010" class="mjx-texatom" style=""><span id="MJXc-Node-2011" class="mjx-mrow"><span id="MJXc-Node-2012" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2013" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2014" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2015" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-121">\mathbf{T}_{WB_i}</script> expressed in the world frame can be defined.</figcaption>
</figure>
<p><br></p>

<p>Additionally, <em>we can add incremental changes to a transformation using the retraction</em>, which for <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-122-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2016" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2017" class="mjx-mrow"><span id="MJXc-Node-2018" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-122">\text{SE(3)}</script> is done with the exponential map as follows:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-123-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 10.349em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-22&quot;&gt;&lt;mtext&gt;(22)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2019" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-2020" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-2021" class="mjx-mtable" style="width: 100%; min-width: 15.505em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.005em;"><span id="MJXc-Node-2022" class="mjx-mlabeledtr" style="height: 1.11em;"><span id="MJXc-Node-2026" class="mjx-mtd" style="padding: 0px; width: 10.349em;"><span id="MJXc-Node-2027" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2028" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2029" class="mjx-texatom"><span id="MJXc-Node-2030" class="mjx-mrow"><span id="MJXc-Node-2031" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2032" class="mjx-texatom" style=""><span id="MJXc-Node-2033" class="mjx-mrow"><span id="MJXc-Node-2034" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2035" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2036" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2037" class="mjx-texatom" style=""><span id="MJXc-Node-2038" class="mjx-mrow"><span id="MJXc-Node-2039" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2040" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2041" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2042" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-2043" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-2044" class="mjx-texatom"><span id="MJXc-Node-2045" class="mjx-mrow"><span id="MJXc-Node-2046" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2047" class="mjx-texatom" style=""><span id="MJXc-Node-2048" class="mjx-mrow"><span id="MJXc-Node-2049" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2050" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2051" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2052" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2053" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.528em;">Exp</span></span><span id="MJXc-Node-2054" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2055" class="mjx-texatom"><span id="MJXc-Node-2056" class="mjx-mrow"><span id="MJXc-Node-2057" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2058" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2059" class="mjx-texatom" style=""><span id="MJXc-Node-2060" class="mjx-mrow"><span id="MJXc-Node-2061" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2062" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2063" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2064" class="mjx-texatom"><span id="MJXc-Node-2065" class="mjx-mrow"><span id="MJXc-Node-2066" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span><span id="MJXc-Node-2067" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.11em;"><span id="mjx-eqn-22" class="mjx-mtd"><span id="MJXc-Node-2024" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2025" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(22)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-22"><mtext>(22)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mtext>Exp</mtext><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mo stretchy="false">)</mo></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-123">\begin{equation}
\mathbf{T}_{WB_{i+1}} = \mathbf{T}_{WB_i} \text{Exp}( {_{B_i}}\mathbf{\xi})
\end{equation}</script>

<p>In this case we added an increment from the body frame at time <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-124-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2068" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2069" class="mjx-mrow"><span id="MJXc-Node-2070" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-124">i</script>, that represents the new pose at time <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-125-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2071" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2072" class="mjx-mrow"><span id="MJXc-Node-2073" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2074" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2075" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-125">i+1</script>. Please note that <strong>the increments are defined with respect to a reference frame, but they do not require to specify the resulting frame</strong>. Their meaning (representing a new pose at time <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-126-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2076" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2077" class="mjx-mrow"><span id="MJXc-Node-2078" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2079" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2080" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-126">i+1</script>) is something that we -as users- define but is not explicit in the formulation. (<em>While we could do it, it can lead to confusions because in this specific case we are representing the pose at the next instant but we can also use retractions to describe corrections to the world frame as we will see in the final post.</em>)</p>

<p>The graphical interpretation with the manifold is consistent with our general definition of retractions and frames. Using the exponential map on the right is defining a tangent space at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-127-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2081" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2082" class="mjx-mrow"><span id="MJXc-Node-2083" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2084" class="mjx-texatom"><span id="MJXc-Node-2085" class="mjx-mrow"><span id="MJXc-Node-2086" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2087" class="mjx-texatom" style=""><span id="MJXc-Node-2088" class="mjx-mrow"><span id="MJXc-Node-2089" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2090" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2091" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2092" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-127">\mathbf{T}_{WB_i}</script>, which can be interpreted as a new <em>reference frame</em> at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-128-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2093" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2094" class="mjx-mrow"><span id="MJXc-Node-2095" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2096" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2097" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-128">B_i</script>, which we used to define the increment:</p>

<p><a name="lie_group_frames_increment"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/lie-group-frames-increment.png" alt="Retraction with frames">
    <figcaption>When we add a small increment <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-129-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2098" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2099" class="mjx-mrow"><span id="MJXc-Node-2100" class="mjx-texatom"><span id="MJXc-Node-2101" class="mjx-mrow"><span id="MJXc-Node-2102" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2103" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2104" class="mjx-texatom" style=""><span id="MJXc-Node-2105" class="mjx-mrow"><span id="MJXc-Node-2106" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2107" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2108" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2109" class="mjx-texatom"><span id="MJXc-Node-2110" class="mjx-mrow"><span id="MJXc-Node-2111" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.483em; padding-right: 0.005em;">ξ</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-129">{_{B_i}}\mathbf{\xi}</script> to the pose <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-130-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2112" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2113" class="mjx-mrow"><span id="MJXc-Node-2114" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2115" class="mjx-texatom"><span id="MJXc-Node-2116" class="mjx-mrow"><span id="MJXc-Node-2117" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.363em; padding-bottom: 0.363em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2118" class="mjx-texatom" style=""><span id="MJXc-Node-2119" class="mjx-mrow"><span id="MJXc-Node-2120" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2121" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2122" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2123" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-130">\mathbf{T}_{WB_i}</script>, the expression <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-131-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2124" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2125" class="mjx-mrow"><span id="MJXc-Node-2126" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2127" class="mjx-texatom"><span id="MJXc-Node-2128" class="mjx-mrow"><span id="MJXc-Node-2129" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.363em; padding-bottom: 0.363em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2130" class="mjx-texatom" style=""><span id="MJXc-Node-2131" class="mjx-mrow"><span id="MJXc-Node-2132" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2133" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2134" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2135" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2136" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.543em;">Exp</span></span><span id="MJXc-Node-2137" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.483em; padding-bottom: 0.603em;">(</span></span><span id="MJXc-Node-2138" class="mjx-texatom"><span id="MJXc-Node-2139" class="mjx-mrow"><span id="MJXc-Node-2140" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2141" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2142" class="mjx-texatom" style=""><span id="MJXc-Node-2143" class="mjx-mrow"><span id="MJXc-Node-2144" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2145" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2146" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2147" class="mjx-texatom"><span id="MJXc-Node-2148" class="mjx-mrow"><span id="MJXc-Node-2149" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.483em; padding-right: 0.005em;">ξ</span></span></span></span><span id="MJXc-Node-2150" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.483em; padding-bottom: 0.603em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mtext>Exp</mtext><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-131">\mathbf{T}_{WB_i} \text{Exp}( {_{B_i}}\mathbf{\xi})</script> corresponds to the retraction defined for the tangent space at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-132-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2151" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2152" class="mjx-mrow"><span id="MJXc-Node-2153" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2154" class="mjx-texatom"><span id="MJXc-Node-2155" class="mjx-mrow"><span id="MJXc-Node-2156" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.363em; padding-bottom: 0.363em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2157" class="mjx-texatom" style=""><span id="MJXc-Node-2158" class="mjx-mrow"><span id="MJXc-Node-2159" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2160" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2161" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2162" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-132">\mathbf{T}_{WB_i}</script>.</figcaption>
</figure>
<p><br></p>

<p>The incremental formulation via retractions is also convenient when we have local (body frame) velocity measurements -also known as <em>twists</em>- <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-133-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x03C9;&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2163" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2164" class="mjx-mrow"><span id="MJXc-Node-2165" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2166" class="mjx-texatom"><span id="MJXc-Node-2167" class="mjx-mrow"><span id="MJXc-Node-2168" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2169" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2170" class="mjx-texatom" style=""><span id="MJXc-Node-2171" class="mjx-mrow"><span id="MJXc-Node-2172" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2173" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2174" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2175" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">ω</span></span><span id="MJXc-Node-2176" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-2177" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-2178" class="mjx-mrow"><span id="MJXc-Node-2179" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2180" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2181" class="mjx-texatom" style=""><span id="MJXc-Node-2182" class="mjx-mrow"><span id="MJXc-Node-2183" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2184" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2185" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2186" class="mjx-texatom"><span id="MJXc-Node-2187" class="mjx-mrow"><span id="MJXc-Node-2188" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">v</span></span></span></span><span id="MJXc-Node-2189" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mi>ω</mi><mo>,</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>v</mi></mrow><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-133">({_{B_i}}\omega, {_{B_i}}{v})</script>, with <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-134-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x03C9;&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;double-struck&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;double-struck&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2190" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2191" class="mjx-mrow"><span id="MJXc-Node-2192" class="mjx-texatom"><span id="MJXc-Node-2193" class="mjx-mrow"><span id="MJXc-Node-2194" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2195" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2196" class="mjx-texatom" style=""><span id="MJXc-Node-2197" class="mjx-mrow"><span id="MJXc-Node-2198" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2199" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2200" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2201" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">ω</span></span><span id="MJXc-Node-2202" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.37em;">∈</span></span><span id="MJXc-Node-2203" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-2204" class="mjx-texatom"><span id="MJXc-Node-2205" class="mjx-mrow"><span id="MJXc-Node-2206" class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2207" class="mjx-texatom" style=""><span id="MJXc-Node-2208" class="mjx-mrow"><span id="MJXc-Node-2209" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span></span></span></span></span><span id="MJXc-Node-2210" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-2211" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-2212" class="mjx-mrow"><span id="MJXc-Node-2213" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2214" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2215" class="mjx-texatom" style=""><span id="MJXc-Node-2216" class="mjx-mrow"><span id="MJXc-Node-2217" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2218" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2219" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2220" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">v</span></span><span id="MJXc-Node-2221" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.37em;">∈</span></span><span id="MJXc-Node-2222" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-2223" class="mjx-texatom"><span id="MJXc-Node-2224" class="mjx-mrow"><span id="MJXc-Node-2225" class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2226" class="mjx-texatom" style=""><span id="MJXc-Node-2227" class="mjx-mrow"><span id="MJXc-Node-2228" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mi>ω</mi><mo>∈</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow></msup><mo>,</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mi>v</mi><mo>∈</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-134">{_{B_i}}\omega \in \mathbb{R}^{3}, {_{B_i}}v \in \mathbb{R}^{3}</script>  and we want to do <a href="https://en.wikipedia.org/wiki/Dead_reckoning"><em>dead reckoning</em></a>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-135-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 14.007em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-23&quot;&gt;&lt;mtext&gt;(23)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mi&gt;&amp;#x03C9;&lt;/mi&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;&amp;#x03B4;&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2229" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-2230" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-2231" class="mjx-mtable" style="width: 100%; min-width: 19.163em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0px;"><span id="MJXc-Node-2232" class="mjx-mlabeledtr" style="height: 2.548em;"><span id="MJXc-Node-2236" class="mjx-mtd" style="padding: 0px; width: 14.007em;"><span id="MJXc-Node-2237" class="mjx-mrow"><span id="MJXc-Node-2238" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2239" class="mjx-texatom"><span id="MJXc-Node-2240" class="mjx-mrow"><span id="MJXc-Node-2241" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2242" class="mjx-texatom" style=""><span id="MJXc-Node-2243" class="mjx-mrow"><span id="MJXc-Node-2244" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2245" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2246" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2247" class="mjx-texatom" style=""><span id="MJXc-Node-2248" class="mjx-mrow"><span id="MJXc-Node-2249" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2250" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2251" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2252" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-2253" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-2254" class="mjx-mrow"><span id="MJXc-Node-2255" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2256" class="mjx-texatom"><span id="MJXc-Node-2257" class="mjx-mrow"><span id="MJXc-Node-2258" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2259" class="mjx-texatom" style=""><span id="MJXc-Node-2260" class="mjx-mrow"><span id="MJXc-Node-2261" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2262" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2263" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2264" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2265" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.528em;">Exp</span></span><span id="MJXc-Node-2266" class="mjx-mrow MJXc-space1"><span id="MJXc-Node-2267" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">(</span></span><span id="MJXc-Node-2268" class="mjx-mrow"><span id="MJXc-Node-2269" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">[</span></span><span id="MJXc-Node-2270" class="mjx-mtable" style="vertical-align: -1.024em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-2271" class="mjx-mtr" style="height: 1.274em;"><span id="MJXc-Node-2272" class="mjx-mtd" style="padding: 0px; width: 1.392em;"><span id="MJXc-Node-2273" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2274" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2275" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2276" class="mjx-texatom" style=""><span id="MJXc-Node-2277" class="mjx-mrow"><span id="MJXc-Node-2278" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2279" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2280" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2281" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">ω</span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-2282" class="mjx-mtr" style="height: 1.274em;"><span id="MJXc-Node-2283" class="mjx-mtd" style="padding: 0.2em 0px 0px;"><span id="MJXc-Node-2284" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2285" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2286" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2287" class="mjx-texatom" style=""><span id="MJXc-Node-2288" class="mjx-mrow"><span id="MJXc-Node-2289" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2290" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2291" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2292" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">v</span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-2293" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">]</span></span></span><span id="MJXc-Node-2294" class="mjx-mtext MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2295" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.007em;">δ</span></span><span id="MJXc-Node-2296" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-2297" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">)</span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 2.548em;"><span id="mjx-eqn-23" class="mjx-mtd"><span id="MJXc-Node-2234" class="mjx-mrow" style="margin-top: 0.524em;"><span id="MJXc-Node-2235" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(23)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-23"><mtext>(23)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mtext>Exp</mtext><mrow><mo>(</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mi>ω</mi></mtd></mtr><mtr><mtd><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mi>v</mi></mtd></mtr></mtable><mo>]</mo></mrow><mtext>&nbsp;</mtext><mi>δ</mi><mi>t</mi><mo>)</mo></mrow></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-135">\begin{equation}
\mathbf{T}_{WB_{i+1}} = {\mathbf{T}_{WB_i}} \text{Exp}\left(
  \begin{bmatrix} _{B_i}\omega \\ _{B_i} v \end{bmatrix}\ 
\delta t \right)
\end{equation}</script>

<p>The product
<span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-136-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mi&gt;&amp;#x03C9;&lt;/mi&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;&amp;#x03B4;&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;&amp;#x03B4;&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2298" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2299" class="mjx-mrow"><span id="MJXc-Node-2300" class="mjx-mrow"><span id="MJXc-Node-2301" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">[</span></span><span id="MJXc-Node-2302" class="mjx-mtable" style="vertical-align: -1.024em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-2303" class="mjx-mtr" style="height: 1.274em;"><span id="MJXc-Node-2304" class="mjx-mtd" style="padding: 0px; width: 2.454em;"><span id="MJXc-Node-2305" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2306" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2307" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2308" class="mjx-texatom" style=""><span id="MJXc-Node-2309" class="mjx-mrow"><span id="MJXc-Node-2310" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2311" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2312" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2313" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">ω</span></span><span id="MJXc-Node-2314" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2315" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.007em;">δ</span></span><span id="MJXc-Node-2316" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-2317" class="mjx-mtr" style="height: 1.274em;"><span id="MJXc-Node-2318" class="mjx-mtd" style="padding: 0.2em 0px 0px;"><span id="MJXc-Node-2319" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2320" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2321" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2322" class="mjx-texatom" style=""><span id="MJXc-Node-2323" class="mjx-mrow"><span id="MJXc-Node-2324" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2325" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2326" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2327" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">v</span></span><span id="MJXc-Node-2328" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2329" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.007em;">δ</span></span><span id="MJXc-Node-2330" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-2331" class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.211em; padding-bottom: 1.211em;">]</span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mi>ω</mi><mtext>&nbsp;</mtext><mi>δ</mi><mi>t</mi></mtd></mtr><mtr><mtd><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mi>v</mi><mtext>&nbsp;</mtext><mi>δ</mi><mi>t</mi></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-136">\begin{bmatrix} _{B_i}\omega \ \delta t \\ _{B_i} v \ \delta t\end{bmatrix}</script>
represents the tangent vector resulting from time-integrating the velocity, which is map onto the manifold by means of the <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-137-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2332" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2333" class="mjx-mrow"><span id="MJXc-Node-2334" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-137">\text{SE(3)}</script> retraction:</p>

<p><a name="lie_group_frames_velocities"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/lie-group-frames-velocities.png" alt="Retraction with velocities">
    <figcaption>The same formulation can be used to map velocities into increments via retractions/exponential map. In this case, the time increment <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-138-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03B4;&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2335" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2336" class="mjx-mrow"><span id="MJXc-Node-2337" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.007em;">δ</span></span><span id="MJXc-Node-2338" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">t</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>δ</mi><mi>t</mi></math></span></span><script type="math/tex" id="MathJax-Element-138">\delta t</script> controls the length of the curve that is projected on the manifold when we do dead-reckoning.</figcaption>
</figure>
<p><br></p>

<p>This last example is also useful to understand the physical meaning of the retraction/local operations in the case of 3D poses, which is not always clear. An interesting aspect of illustrating this with <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-139-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2339" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2340" class="mjx-mrow"><span id="MJXc-Node-2341" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">SE</span></span><span id="MJXc-Node-2342" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2343" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span><span id="MJXc-Node-2344" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE</mtext><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-139">\text{SE}(3)</script> is that the meaning also applies if we use rotations only (<span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-140-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SO&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2345" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2346" class="mjx-mrow"><span id="MJXc-Node-2347" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">SO</span></span><span id="MJXc-Node-2348" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2349" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span><span id="MJXc-Node-2350" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SO</mtext><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-140">\text{SO}(3)</script>, <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-141-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SO&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2351" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2352" class="mjx-mrow"><span id="MJXc-Node-2353" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">SO</span></span><span id="MJXc-Node-2354" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2355" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span><span id="MJXc-Node-2356" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SO</mtext><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-141">\text{SO}(2)</script>) or 2D poses (<span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-142-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2357" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2358" class="mjx-mrow"><span id="MJXc-Node-2359" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">SE</span></span><span id="MJXc-Node-2360" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2361" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span><span id="MJXc-Node-2362" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE</mtext><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-142">\text{SE}(2)</script>):</p>

<p><a name="lie_group_frames_velocities"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/lie-group-frames-velocities-physical.png" alt="Retraction with velocities, physical interpretation">
    <figcaption>This figure illustrates the physical meaning of the <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-143-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2363" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2364" class="mjx-mrow"><span id="MJXc-Node-2365" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.363em;">SE</span></span><span id="MJXc-Node-2366" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.483em; padding-bottom: 0.603em;">(</span></span><span id="MJXc-Node-2367" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">3</span></span><span id="MJXc-Node-2368" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.483em; padding-bottom: 0.603em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE</mtext><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-143">\text{SE}(3)</script> retraction of the dead-reckoning example. In light blue we show the increment applied to pose <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-144-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2369" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2370" class="mjx-mrow"><span id="MJXc-Node-2371" class="mjx-texatom"><span id="MJXc-Node-2372" class="mjx-mrow"><span id="MJXc-Node-2373" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2374" class="mjx-texatom"><span id="MJXc-Node-2375" class="mjx-mrow"><span id="MJXc-Node-2376" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.363em; padding-bottom: 0.363em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2377" class="mjx-texatom" style=""><span id="MJXc-Node-2378" class="mjx-mrow"><span id="MJXc-Node-2379" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2380" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2381" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2382" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow></math></span></span><script type="math/tex" id="MathJax-Element-144">{\mathbf{T}_{WB_i}}</script>, which generates a <i>new</i> frame. At the right hand side we illustrate the decomposed increment: orientation at the top, and position at the bottom. 
    Each component of the <i>orientation increment</i> represents a change with respect to each rotation axis defined by the body pose at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-145-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2383" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2384" class="mjx-mrow"><span id="MJXc-Node-2385" class="mjx-texatom"><span id="MJXc-Node-2386" class="mjx-mrow"><span id="MJXc-Node-2387" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2388" class="mjx-texatom"><span id="MJXc-Node-2389" class="mjx-mrow"><span id="MJXc-Node-2390" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.363em; padding-bottom: 0.363em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2391" class="mjx-texatom" style=""><span id="MJXc-Node-2392" class="mjx-mrow"><span id="MJXc-Node-2393" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2394" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2395" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2396" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow></math></span></span><script type="math/tex" id="MathJax-Element-145">{\mathbf{T}_{WB_i}}</script>  (rotations with respect to <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-146-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;X&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2397" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2398" class="mjx-mrow"><span id="MJXc-Node-2399" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.024em;">X</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-146">X</script>, <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-147-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Y&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2400" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2401" class="mjx-mrow"><span id="MJXc-Node-2402" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.182em;">Y</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Y</mi></math></span></span><script type="math/tex" id="MathJax-Element-147">Y</script> and <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-148-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Z&lt;/mi&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2403" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2404" class="mjx-mrow"><span id="MJXc-Node-2405" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.04em;">Z</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Z</mi></math></span></span><script type="math/tex" id="MathJax-Element-148">Z</script> axes, respectively, are shown). When combined, the vector represents an <i>axis-angle</i> representation of the rotation increment. <i>Position increments</i> (right-side, bottom) are easier to interpret because they only represent a shift in position with respect to <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-149-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2406" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2407" class="mjx-mrow"><span id="MJXc-Node-2408" class="mjx-texatom"><span id="MJXc-Node-2409" class="mjx-mrow"><span id="MJXc-Node-2410" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2411" class="mjx-texatom"><span id="MJXc-Node-2412" class="mjx-mrow"><span id="MJXc-Node-2413" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.363em; padding-bottom: 0.363em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2414" class="mjx-texatom" style=""><span id="MJXc-Node-2415" class="mjx-mrow"><span id="MJXc-Node-2416" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2417" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2418" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2419" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow></math></span></span><script type="math/tex" id="MathJax-Element-149">{\mathbf{T}_{WB_i}}</script>'s origin. 
    Since the retraction actually <i>combines</i> both orientation and position increments on the manifold, it generates a smooth trajectory as shown on the left-hand side (light blue).</figcaption>
</figure>
<p><br></p>

<h3 id="some-remarks-on-the-retract-and-local-operations">Some remarks on the retract and local operations</h3>
<p>Lastly, we would like to share some important remarks that are not always stated in the math but <strong>can become real issues during the implementation</strong>. First, we need to be careful about <strong>the convention of the order of the components in the retraction/local operation</strong> (yes, more conventions again). Having clarity about the definition that every software or paper uses for these operations, even implicitly, is fundamental to make sense of the quantities we put into our estimation problems and the estimates we extract.</p>

<p>For instance, the definition of the <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-150-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2420" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2421" class="mjx-mrow"><span id="MJXc-Node-2422" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-150">\text{SE(3)}</script> retraction we presented, which matches <code class="language-plaintext highlighter-rouge">Pose3</code> in GTSAM, uses an <em>orientation-then-translation</em> convention, i.e, the 6D tangent vector has orientation in the first three coordinates, and translation in the last three <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-151-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03BE;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;&amp;#x03C1;&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2423" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2424" class="mjx-mrow"><span id="MJXc-Node-2425" class="mjx-texatom"><span id="MJXc-Node-2426" class="mjx-mrow"><span id="MJXc-Node-2427" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.005em;">ξ</span></span></span></span><span id="MJXc-Node-2428" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-2429" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2430" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">ϕ</span></span><span id="MJXc-Node-2431" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-2432" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">ρ</span></span><span id="MJXc-Node-2433" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi>ξ</mi></mrow><mo>=</mo><mo stretchy="false">(</mo><mi>ϕ</mi><mo>,</mo><mi>ρ</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-151">\mathbf{\xi} = (\phi, \rho)</script>, where <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-152-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;double-struck&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2434" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2435" class="mjx-mrow"><span id="MJXc-Node-2436" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">ϕ</span></span><span id="MJXc-Node-2437" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.37em;">∈</span></span><span id="MJXc-Node-2438" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-2439" class="mjx-texatom"><span id="MJXc-Node-2440" class="mjx-mrow"><span id="MJXc-Node-2441" class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2442" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi><mo>∈</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mn>3</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-152">\phi \in \mathbb{R}^3</script> denotes the orientation components while <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-153-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;&amp;#x03C1;&lt;/mi&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;double-struck&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2443" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2444" class="mjx-mrow"><span id="MJXc-Node-2445" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">ρ</span></span><span id="MJXc-Node-2446" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.37em;">∈</span></span><span id="MJXc-Node-2447" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-2448" class="mjx-texatom"><span id="MJXc-Node-2449" class="mjx-mrow"><span id="MJXc-Node-2450" class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2451" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">3</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo>∈</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mn>3</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-153">\rho \in \mathbb{R}^3</script> the translational ones. On the other hand, <code class="language-plaintext highlighter-rouge">Pose2</code> uses <em>translation-then-orientation</em> <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-154-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2452" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2453" class="mjx-mrow"><span id="MJXc-Node-2454" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2455" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span><span id="MJXc-Node-2456" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-2457" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">y</span></span><span id="MJXc-Node-2458" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-2459" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span><span id="MJXc-Node-2460" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>θ</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-154">(x, y, \theta)</script> for <a href="https://github.com/borglab/gtsam/issues/160#issuecomment-562161665">historical reasons</a>.</p>

<p><strong>This is also ties the definition of the covariances</strong>. For <code class="language-plaintext highlighter-rouge">Pose3</code> objects, for instance, we must define covariance matrices that match the definition and meaning of the tangent vectors. In fact, the upper-left block must encode orientation covariances, i.e, our degree of uncertainty for each rotation axis, while the bottom-right encodes position covariances:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-155-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 5.644em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-24&quot;&gt;&lt;mtext&gt;(24)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;mi&gt;&amp;#x03C1;&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msubsup&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03D5;&lt;/mi&gt;&lt;mi&gt;&amp;#x03C1;&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03C1;&lt;/mi&gt;&lt;mi&gt;&amp;#x03C1;&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2461" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-2462" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-2463" class="mjx-mtable" style="width: 100%; min-width: 10.8em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0px;"><span id="MJXc-Node-2464" class="mjx-mlabeledtr" style="height: 3.049em;"><span id="MJXc-Node-2468" class="mjx-mtd" style="padding: 0px; width: 5.644em;"><span id="MJXc-Node-2469" class="mjx-mrow"><span id="MJXc-Node-2470" class="mjx-mrow"><span id="MJXc-Node-2471" class="mjx-mo"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 1.526em; padding-bottom: 1.526em;">[</span></span><span id="MJXc-Node-2472" class="mjx-mtable" style="vertical-align: -1.199em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-2473" class="mjx-mtr" style="height: 1.325em;"><span id="MJXc-Node-2474" class="mjx-mtd" style="padding: 0px 0.5em 0px 0px; width: 1.6em;"><span id="MJXc-Node-2475" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2476" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2477" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-2478" class="mjx-texatom" style=""><span id="MJXc-Node-2479" class="mjx-mrow"><span id="MJXc-Node-2480" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">ϕ</span></span><span id="MJXc-Node-2481" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">ϕ</span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-2482" class="mjx-mtd" style="padding: 0px 0px 0px 0.5em; width: 1.544em;"><span id="MJXc-Node-2483" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2484" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2485" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-2486" class="mjx-texatom" style=""><span id="MJXc-Node-2487" class="mjx-mrow"><span id="MJXc-Node-2488" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">ϕ</span></span><span id="MJXc-Node-2489" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">ρ</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-2490" class="mjx-mtr" style="height: 1.573em;"><span id="MJXc-Node-2491" class="mjx-mtd" style="padding: 0.2em 0.5em 0px 0px;"><span id="MJXc-Node-2492" class="mjx-mrow" style="margin-top: -0.132em;"><span id="MJXc-Node-2493" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2494" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2499" class="mjx-texatom" style=""><span id="MJXc-Node-2500" class="mjx-mrow"><span id="MJXc-Node-2501" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.12em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-2495" class="mjx-texatom" style=""><span id="MJXc-Node-2496" class="mjx-mrow"><span id="MJXc-Node-2497" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">ϕ</span></span><span id="MJXc-Node-2498" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">ρ</span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-2502" class="mjx-mtd" style="padding: 0.2em 0px 0px 0.5em;"><span id="MJXc-Node-2503" class="mjx-mrow" style="margin-top: -0.132em;"><span id="MJXc-Node-2504" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2505" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2506" class="mjx-texatom" style=""><span id="MJXc-Node-2507" class="mjx-mrow"><span id="MJXc-Node-2508" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">ρ</span></span><span id="MJXc-Node-2509" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">ρ</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span id="MJXc-Node-2510" class="mjx-mo"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 1.526em; padding-bottom: 1.526em;">]</span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 3.049em;"><span id="mjx-eqn-24" class="mjx-mtd"><span id="MJXc-Node-2466" class="mjx-mrow" style="margin-top: 0.775em;"><span id="MJXc-Node-2467" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(24)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-24"><mtext>(24)</mtext></mtd><mtd><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><msub><mi mathvariant="normal">Σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>ϕ</mi><mi>ϕ</mi></mrow></msub></mtd><mtd><msub><mi mathvariant="normal">Σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>ϕ</mi><mi>ρ</mi></mrow></msub></mtd></mtr><mtr><mtd><msubsup><mi mathvariant="normal">Σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>ϕ</mi><mi>ρ</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msubsup></mtd><mtd><msub><mi mathvariant="normal">Σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>ρ</mi><mi>ρ</mi></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-155">\begin{equation}
\left[\begin{matrix} \Sigma_{\phi\phi} & \Sigma_{\phi\rho} \\ \Sigma_{\phi\rho}^{T} & \Sigma_{\rho\rho} \end{matrix}\right]
\end{equation}</script>

<p>This is of paramount importance because, for example, the previous covariance matrix does not match the convention used in ROS to store the covariances in <a href="http://docs.ros.org/en/melodic/api/geometry_msgs/html/msg/PoseWithCovariance.html"><code class="language-plaintext highlighter-rouge">PoseWithCovariance</code></a>. Similar issues can arise when using different libraries or software, so we must be aware of their conventions. Our advice is <strong>to always check the retraction/exponential map definition</strong> if not stated in the documentation.</p>

<h2 id="bringing-everything-together">Bringing everything together</h2>
<p>Now we can return to our original estimation problem using rigid-body transformations. Let us recall that we defined the following process model given by odometry measurements:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-156-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 11.799em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-25&quot;&gt;&lt;mtext&gt;(25)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2511" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-2512" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-2513" class="mjx-mtable" style="width: 100%; min-width: 16.955em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.005em;"><span id="MJXc-Node-2514" class="mjx-mlabeledtr" style="height: 1.11em;"><span id="MJXc-Node-2518" class="mjx-mtd" style="padding: 0px; width: 11.799em;"><span id="MJXc-Node-2519" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2520" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2521" class="mjx-texatom"><span id="MJXc-Node-2522" class="mjx-mrow"><span id="MJXc-Node-2523" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2524" class="mjx-texatom" style=""><span id="MJXc-Node-2525" class="mjx-mrow"><span id="MJXc-Node-2526" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2527" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2528" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2529" class="mjx-texatom" style=""><span id="MJXc-Node-2530" class="mjx-mrow"><span id="MJXc-Node-2531" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2532" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2533" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2534" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-2535" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-2536" class="mjx-texatom"><span id="MJXc-Node-2537" class="mjx-mrow"><span id="MJXc-Node-2538" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2539" class="mjx-texatom" style=""><span id="MJXc-Node-2540" class="mjx-mrow"><span id="MJXc-Node-2541" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2542" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2543" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2544" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2545" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2546" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-2547" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2548" class="mjx-texatom"><span id="MJXc-Node-2549" class="mjx-mrow"><span id="MJXc-Node-2550" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2551" class="mjx-texatom" style=""><span id="MJXc-Node-2552" class="mjx-mrow"><span id="MJXc-Node-2553" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2554" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2555" class="mjx-texatom" style=""><span id="MJXc-Node-2556" class="mjx-mrow"><span id="MJXc-Node-2557" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-2558" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2559" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2560" class="mjx-texatom" style=""><span id="MJXc-Node-2561" class="mjx-mrow"><span id="MJXc-Node-2562" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2563" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2564" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2565" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2566" class="mjx-texatom"><span id="MJXc-Node-2567" class="mjx-mrow"><span id="MJXc-Node-2568" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">N</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2569" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.11em;"><span id="mjx-eqn-25" class="mjx-mtd"><span id="MJXc-Node-2516" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2517" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(25)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-25"><mtext>(25)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">N</mi></mrow><mi>i</mi></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-156">\begin{equation}
\mathbf{T}_{WB_{i+1}} = \mathbf{T}_{WB_i} \ \Delta\mathbf{T}_{B_{i} B_{i+1}} \mathbf{N}_i
\end{equation}</script>

<p>We reported two problems before:</p>
<ol>
  <li>We needed to define the noise <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-157-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2570" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2571" class="mjx-mrow"><span id="MJXc-Node-2572" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2573" class="mjx-texatom"><span id="MJXc-Node-2574" class="mjx-mrow"><span id="MJXc-Node-2575" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">N</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2576" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">N</mi></mrow><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-157">\mathbf{N}_i</script> as a Gaussian noise, but it was a <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-158-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2577" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2578" class="mjx-mrow"><span id="MJXc-Node-2579" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">4</span></span><span id="MJXc-Node-2580" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.318em;">×</span></span><span id="MJXc-Node-2581" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">4</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>4</mn><mo>×</mo><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-158">4\times4</script> matrix.</li>
  <li>When isolating the noise to create the residual, we ended up with a matrix expression, not vector one as we needed in our estimation framework.</li>
</ol>

<p>We can identify now that our poses are objects of <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-159-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2582" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2583" class="mjx-mrow"><span id="MJXc-Node-2584" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-159">\text{SE(3)}</script>, hence we can use the tools we just defined.</p>

<h3 id="defining-the-noise">Defining the noise</h3>
<p>The first problem of defining the noise appropriately is solved by using probability distributions on manifolds as we described before. We define  <em>a zero-mean Gaussian in the tangent space at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-160-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2585" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2586" class="mjx-mrow"><span id="MJXc-Node-2587" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-2588" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2589" class="mjx-texatom"><span id="MJXc-Node-2590" class="mjx-mrow"><span id="MJXc-Node-2591" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2592" class="mjx-texatom" style=""><span id="MJXc-Node-2593" class="mjx-mrow"><span id="MJXc-Node-2594" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2595" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2596" class="mjx-texatom" style=""><span id="MJXc-Node-2597" class="mjx-mrow"><span id="MJXc-Node-2598" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-2599" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2600" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2601" class="mjx-texatom" style=""><span id="MJXc-Node-2602" class="mjx-mrow"><span id="MJXc-Node-2603" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2604" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2605" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-160">\Delta\mathbf{T}_{B_{i} B_{i+1}}</script> and retract it onto the manifold</em>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-161-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 15.074em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-26&quot;&gt;&lt;mtext&gt;(26)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2606" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-2607" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-2608" class="mjx-mtable" style="width: 100%; min-width: 20.23em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.005em;"><span id="MJXc-Node-2609" class="mjx-mlabeledtr" style="height: 1.11em;"><span id="MJXc-Node-2613" class="mjx-mtd" style="padding: 0px; width: 15.074em;"><span id="MJXc-Node-2614" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2615" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2616" class="mjx-texatom"><span id="MJXc-Node-2617" class="mjx-mrow"><span id="MJXc-Node-2618" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2619" class="mjx-texatom" style=""><span id="MJXc-Node-2620" class="mjx-mrow"><span id="MJXc-Node-2621" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2622" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2623" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2624" class="mjx-texatom" style=""><span id="MJXc-Node-2625" class="mjx-mrow"><span id="MJXc-Node-2626" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2627" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2628" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2629" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-2630" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-2631" class="mjx-texatom"><span id="MJXc-Node-2632" class="mjx-mrow"><span id="MJXc-Node-2633" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2634" class="mjx-texatom" style=""><span id="MJXc-Node-2635" class="mjx-mrow"><span id="MJXc-Node-2636" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2637" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2638" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2639" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2640" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2641" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-2642" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2643" class="mjx-texatom"><span id="MJXc-Node-2644" class="mjx-mrow"><span id="MJXc-Node-2645" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2646" class="mjx-texatom" style=""><span id="MJXc-Node-2647" class="mjx-mrow"><span id="MJXc-Node-2648" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2649" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2650" class="mjx-texatom" style=""><span id="MJXc-Node-2651" class="mjx-mrow"><span id="MJXc-Node-2652" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-2653" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2654" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2655" class="mjx-texatom" style=""><span id="MJXc-Node-2656" class="mjx-mrow"><span id="MJXc-Node-2657" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2658" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2659" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2660" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.528em;">Exp</span></span><span id="MJXc-Node-2661" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2662" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2663" class="mjx-texatom" style=""><span id="MJXc-Node-2664" class="mjx-mrow"><span id="MJXc-Node-2665" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2666" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2667" class="mjx-texatom" style=""><span id="MJXc-Node-2668" class="mjx-mrow"><span id="MJXc-Node-2669" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2670" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2671" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2672" class="mjx-texatom"><span id="MJXc-Node-2673" class="mjx-mrow"><span id="MJXc-Node-2674" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span></span></span><span id="MJXc-Node-2675" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.11em;"><span id="mjx-eqn-26" class="mjx-mtd"><span id="MJXc-Node-2611" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-2612" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(26)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-26"><mtext>(26)</mtext></mtd><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>=</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mtext>&nbsp;</mtext><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mtext>Exp</mtext><msub><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mi>η</mi></mrow><mo stretchy="false">)</mo></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-161">\begin{equation}
\mathbf{T}_{WB_{i+1}} = \mathbf{T}_{WB_i} \ \Delta\mathbf{T}_{B_{i} B_{i+1}} \text{Exp}(_{B_{i+1}}\mathbf{\eta})
\end{equation}</script>

<p><a name="manifold_gaussian_frame"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/lie-group-frames-gaussian.png" alt="Defining noise for the relative increment.">
    <figcaption>Graphical interpretation of the definition of the noise, which is defined in frame <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-162-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2676" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2677" class="mjx-mrow"><span id="MJXc-Node-2678" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2679" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2680" class="mjx-texatom" style=""><span id="MJXc-Node-2681" class="mjx-mrow"><span id="MJXc-Node-2682" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span><span id="MJXc-Node-2683" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.303em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2684" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-162">B_{i+1}</script> and mapped using the retraction.</figcaption>
</figure>
<p><br></p>

<p>where we have defined <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-163-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;mo&gt;&amp;#x223C;&lt;/mo&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn mathvariant=&quot;bold&quot;&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2685" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2686" class="mjx-mrow"><span id="MJXc-Node-2687" class="mjx-texatom"><span id="MJXc-Node-2688" class="mjx-mrow"><span id="MJXc-Node-2689" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2690" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2691" class="mjx-texatom" style=""><span id="MJXc-Node-2692" class="mjx-mrow"><span id="MJXc-Node-2693" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2694" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2695" class="mjx-texatom" style=""><span id="MJXc-Node-2696" class="mjx-mrow"><span id="MJXc-Node-2697" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2698" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2699" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2700" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span><span id="MJXc-Node-2701" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">∼</span></span><span id="MJXc-Node-2702" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em;">G</span></span><span id="MJXc-Node-2703" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-2704" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">u</span></span><span id="MJXc-Node-2705" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-2706" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-2707" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2708" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-2709" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-2710" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2711" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2712" class="mjx-texatom"><span id="MJXc-Node-2713" class="mjx-mrow"><span id="MJXc-Node-2714" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">0</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2715" class="mjx-texatom" style=""><span id="MJXc-Node-2716" class="mjx-mrow"><span id="MJXc-Node-2717" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">6</span></span><span id="MJXc-Node-2718" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.318em;">×</span></span><span id="MJXc-Node-2719" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-2720" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-2721" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-2722" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2723" class="mjx-texatom" style=""><span id="MJXc-Node-2724" class="mjx-mrow"><span id="MJXc-Node-2725" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2726" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2727" class="mjx-texatom" style=""><span id="MJXc-Node-2728" class="mjx-mrow"><span id="MJXc-Node-2729" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2730" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2731" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2732" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span><span id="MJXc-Node-2733" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></mrow><mi>η</mi><mo>∼</mo><mi>G</mi><mi>a</mi><mi>u</mi><mi>s</mi><mi>s</mi><mi>i</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mn mathvariant="bold">0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>6</mn><mo>×</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mi mathvariant="normal">Σ</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-163">{_{B_{i+1}}}\eta \sim Gaussian(\mathbf{0}_{6\times1},\ _{B_{i+1}}\Sigma)</script>. Please note that in order to match our right-hand convention, <strong>the covariance we use must be defined in the body frame at time <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-164-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2734" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2735" class="mjx-mrow"><span id="MJXc-Node-2736" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2737" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2738" class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-164">i+1</script></strong>, i.e <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-165-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2739" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2740" class="mjx-mrow"><span id="MJXc-Node-2741" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2742" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2743" class="mjx-texatom" style=""><span id="MJXc-Node-2744" class="mjx-mrow"><span id="MJXc-Node-2745" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2746" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2747" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-165">B_{i+1}</script>. Additionally, <strong>the covariance matrix must follow the same ordering defined by the retraction as we mentioned before</strong>.</p>

<h3 id="defining-the-residual">Defining the residual</h3>
<p>Having solved the first problem, we can now focus on the residual definition. We can isolate the noise as we did before, which holds:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-166-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 15.324em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-27&quot;&gt;&lt;mtext&gt;(27)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2748" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-2749" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-2750" class="mjx-mtable" style="width: 100%; min-width: 20.48em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.034em;"><span id="MJXc-Node-2751" class="mjx-mlabeledtr" style="height: 1.404em;"><span id="MJXc-Node-2755" class="mjx-mtd" style="padding: 0px; width: 15.324em;"><span id="MJXc-Node-2756" class="mjx-mrow" style="margin-top: -0.082em;"><span id="MJXc-Node-2757" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.528em;">Exp</span></span><span id="MJXc-Node-2758" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2759" class="mjx-texatom"><span id="MJXc-Node-2760" class="mjx-mrow"><span id="MJXc-Node-2761" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2762" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2763" class="mjx-texatom" style=""><span id="MJXc-Node-2764" class="mjx-mrow"><span id="MJXc-Node-2765" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2766" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2767" class="mjx-texatom" style=""><span id="MJXc-Node-2768" class="mjx-mrow"><span id="MJXc-Node-2769" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2770" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2771" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2772" class="mjx-texatom"><span id="MJXc-Node-2773" class="mjx-mrow"><span id="MJXc-Node-2774" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span></span></span><span id="MJXc-Node-2775" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-2776" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-2777" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-2778" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2779" class="mjx-texatom"><span id="MJXc-Node-2780" class="mjx-mrow"><span id="MJXc-Node-2781" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2796" class="mjx-texatom" style=""><span id="MJXc-Node-2797" class="mjx-mrow"><span id="MJXc-Node-2798" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-2799" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-2782" class="mjx-texatom" style=""><span id="MJXc-Node-2783" class="mjx-mrow"><span id="MJXc-Node-2784" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2785" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2786" class="mjx-texatom" style=""><span id="MJXc-Node-2787" class="mjx-mrow"><span id="MJXc-Node-2788" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-2789" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2790" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2791" class="mjx-texatom" style=""><span id="MJXc-Node-2792" class="mjx-mrow"><span id="MJXc-Node-2793" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2794" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2795" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2800" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2801" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2802" class="mjx-texatom"><span id="MJXc-Node-2803" class="mjx-mrow"><span id="MJXc-Node-2804" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2811" class="mjx-texatom" style=""><span id="MJXc-Node-2812" class="mjx-mrow"><span id="MJXc-Node-2813" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-2814" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-2805" class="mjx-texatom" style=""><span id="MJXc-Node-2806" class="mjx-mrow"><span id="MJXc-Node-2807" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2808" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2809" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2810" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2815" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2816" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2817" class="mjx-texatom"><span id="MJXc-Node-2818" class="mjx-mrow"><span id="MJXc-Node-2819" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2820" class="mjx-texatom" style=""><span id="MJXc-Node-2821" class="mjx-mrow"><span id="MJXc-Node-2822" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2823" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2824" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2825" class="mjx-texatom" style=""><span id="MJXc-Node-2826" class="mjx-mrow"><span id="MJXc-Node-2827" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2828" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2829" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.404em;"><span id="mjx-eqn-27" class="mjx-mtd"><span id="MJXc-Node-2753" class="mjx-mrow" style="margin-top: -0.082em;"><span id="MJXc-Node-2754" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(27)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-27"><mtext>(27)</mtext></mtd><mtd><mtext>Exp</mtext><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>η</mi></mrow><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">Δ</mi><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-166">\begin{equation}
\text{Exp}( {_{B_{i+1}}}\mathbf{\eta}) = \Delta\mathbf{T}_{B_{i} B_{i+1}}^{-1}\ \mathbf{T}_{WB_i}^{-1} \ \mathbf{T}_{WB_{i+1}}
\end{equation}</script>

<p>We can now apply the <strong>local</strong> operator of the manifold on both sides to <strong>map the residual to the tangent space</strong> (recall we are using the <em>logarithm map</em> for <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-167-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2830" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2831" class="mjx-mrow"><span id="MJXc-Node-2832" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-167">\text{SE(3)}</script> elements for simplicity):</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-168-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 15.767em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-28&quot;&gt;&lt;mtext&gt;(28)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mtext&gt;Log&lt;/mtext&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2833" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-2834" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-2835" class="mjx-mtable" style="width: 100%; min-width: 20.923em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0px;"><span id="MJXc-Node-2836" class="mjx-mlabeledtr" style="height: 1.849em;"><span id="MJXc-Node-2840" class="mjx-mtd" style="padding: 0px; width: 15.767em;"><span id="MJXc-Node-2841" class="mjx-mrow"><span id="MJXc-Node-2842" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2843" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2844" class="mjx-texatom" style=""><span id="MJXc-Node-2845" class="mjx-mrow"><span id="MJXc-Node-2846" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2847" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2848" class="mjx-texatom" style=""><span id="MJXc-Node-2849" class="mjx-mrow"><span id="MJXc-Node-2850" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2851" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2852" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2853" class="mjx-texatom"><span id="MJXc-Node-2854" class="mjx-mrow"><span id="MJXc-Node-2855" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span></span></span><span id="MJXc-Node-2856" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-2857" class="mjx-mtext MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">Log</span></span><span id="MJXc-Node-2858" class="mjx-mrow MJXc-space1"><span id="MJXc-Node-2859" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">(</span></span><span id="MJXc-Node-2860" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-2861" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2862" class="mjx-texatom"><span id="MJXc-Node-2863" class="mjx-mrow"><span id="MJXc-Node-2864" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2879" class="mjx-texatom" style=""><span id="MJXc-Node-2880" class="mjx-mrow"><span id="MJXc-Node-2881" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-2882" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-2865" class="mjx-texatom" style=""><span id="MJXc-Node-2866" class="mjx-mrow"><span id="MJXc-Node-2867" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2868" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2869" class="mjx-texatom" style=""><span id="MJXc-Node-2870" class="mjx-mrow"><span id="MJXc-Node-2871" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-2872" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2873" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2874" class="mjx-texatom" style=""><span id="MJXc-Node-2875" class="mjx-mrow"><span id="MJXc-Node-2876" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2877" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2878" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2883" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2884" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2885" class="mjx-texatom"><span id="MJXc-Node-2886" class="mjx-mrow"><span id="MJXc-Node-2887" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2894" class="mjx-texatom" style=""><span id="MJXc-Node-2895" class="mjx-mrow"><span id="MJXc-Node-2896" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-2897" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-2888" class="mjx-texatom" style=""><span id="MJXc-Node-2889" class="mjx-mrow"><span id="MJXc-Node-2890" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2891" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2892" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2893" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2898" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-2899" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2900" class="mjx-texatom"><span id="MJXc-Node-2901" class="mjx-mrow"><span id="MJXc-Node-2902" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2903" class="mjx-texatom" style=""><span id="MJXc-Node-2904" class="mjx-mrow"><span id="MJXc-Node-2905" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2906" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2907" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2908" class="mjx-texatom" style=""><span id="MJXc-Node-2909" class="mjx-mrow"><span id="MJXc-Node-2910" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-2911" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2912" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2913" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">)</span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.849em;"><span id="mjx-eqn-28" class="mjx-mtd"><span id="MJXc-Node-2838" class="mjx-mrow" style="margin-top: 0.175em;"><span id="MJXc-Node-2839" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(28)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-28"><mtext>(28)</mtext></mtd><mtd><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mi>η</mi></mrow><mo>=</mo><mtext>Log</mtext><mrow><mo>(</mo><mi mathvariant="normal">Δ</mi><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>)</mo></mrow></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-168">\begin{equation}
_{B_{i+1}}\mathbf{\eta} = \text{Log}\left( \Delta\mathbf{T}_{B_{i} B_{i+1}}^{-1}\ \mathbf{T}_{WB_i}^{-1} \  \mathbf{T}_{WB_{i+1}} \right)
\end{equation}</script>

<p>Since the noise is defined in the tangent space, both sides denote vector expressions in <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-169-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;double-struck&quot;&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2914" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2915" class="mjx-mrow"><span id="MJXc-Node-2916" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2917" class="mjx-texatom"><span id="MJXc-Node-2918" class="mjx-mrow"><span id="MJXc-Node-2919" class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">R</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-2920" class="mjx-texatom" style=""><span id="MJXc-Node-2921" class="mjx-mrow"><span id="MJXc-Node-2922" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">6</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>6</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-169">\mathbb{R}^{6}</script>. Both also correspond to zero-mean Gaussians, hence the right-hand side can be used as a proper factor in our estimation framework. In fact, the expression on the right side is <em>exactly</em> the same used in GTSAM to define the <a href="https://github.com/borglab/gtsam/blob/master/gtsam/slam/BetweenFactor.h#L90"><code class="language-plaintext highlighter-rouge">BetweenFactor</code></a>.</p>

<p><a name="lie_groups_frames_residual"></a></p>
<figure class="center">
  <img src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/lie-group-frames-residual.png" alt="Defining noise for the relative increment.">
    <figcaption>The Between residual, illustrated. On the left hand side, we have the corresponding transformations involved in the computation expressed on the manifold. Since the error (in red) is also defined on the manifold, it is not described by a straight line. However, by applying the local operation, given by the logarithm map for <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-170-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2923" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2924" class="mjx-mrow"><span id="MJXc-Node-2925" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.483em; padding-bottom: 0.603em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-170">\text{SE(3)}</script>, we can map it to to the tangent space at <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-171-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2926" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2927" class="mjx-mrow"><span id="MJXc-Node-2928" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.363em;">Δ</span></span><span id="MJXc-Node-2929" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2930" class="mjx-texatom"><span id="MJXc-Node-2931" class="mjx-mrow"><span id="MJXc-Node-2932" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.363em; padding-bottom: 0.363em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2933" class="mjx-texatom" style=""><span id="MJXc-Node-2934" class="mjx-mrow"><span id="MJXc-Node-2935" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2936" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2937" class="mjx-texatom" style=""><span id="MJXc-Node-2938" class="mjx-mrow"><span id="MJXc-Node-2939" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span></span></span></span></span><span id="MJXc-Node-2940" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2941" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2942" class="mjx-texatom" style=""><span id="MJXc-Node-2943" class="mjx-mrow"><span id="MJXc-Node-2944" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span><span id="MJXc-Node-2945" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.303em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2946" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Δ</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-171">\Delta\mathbf{T}_{B_{i} B_{i+1}}</script>, which is a vector space (right). The error itself should lie within the Gaussian we created using the noise <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-172-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2947" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2948" class="mjx-mrow"><span id="MJXc-Node-2949" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2950" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2951" class="mjx-texatom" style=""><span id="MJXc-Node-2952" class="mjx-mrow"><span id="MJXc-Node-2953" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2954" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.483em; padding-bottom: 0.303em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2955" class="mjx-texatom" style=""><span id="MJXc-Node-2956" class="mjx-mrow"><span id="MJXc-Node-2957" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.303em;">i</span></span><span id="MJXc-Node-2958" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.303em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-2959" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.363em; padding-bottom: 0.363em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-2960" class="mjx-texatom"><span id="MJXc-Node-2961" class="mjx-mrow"><span id="MJXc-Node-2962" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.243em; padding-bottom: 0.483em; padding-right: 0.006em;">η</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mi>η</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-172">_{B_{i+1}}\mathbf{\eta}</script>, which denotes the noise of the odometry model.</figcaption>
</figure>
<p><br></p>

<p>We must also keep in mind here that by using the <strong>local</strong> operation, <strong>the residual vector will follow the same ordering</strong>. As we mentioned before for <code class="language-plaintext highlighter-rouge">Pose3</code> objects, it will encode orientation error in the first 3 components, while translation error in the last ones. In this way, if we write the expanded expression for the Gaussian factor, we can notice that all the components are weighted accordingly by the inverse covariance as we reviewed before (orientation first, and then translation):</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-173-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 28.361em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-29&quot;&gt;&lt;mtext&gt;(29)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mtable columnalign=&quot;right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;r&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mtext&gt;between&lt;/mtext&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msubsup&gt;&lt;mrow&gt;&lt;mo&gt;|&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;|&lt;/mo&gt;&lt;mtext&gt;Log&lt;/mtext&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;|&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;|&lt;/mo&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mtext&gt;Log&lt;/mtext&gt;&lt;msup&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msubsup&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;mspace width=&quot;2em&quot; /&gt;&lt;mspace width=&quot;2em&quot; /&gt;&lt;mspace width=&quot;2em&quot; /&gt;&lt;mtext&gt;Log&lt;/mtext&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0394;&lt;/mi&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-2963" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-2964" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-2965" class="mjx-mtable" style="width: 100%; min-width: 33.517em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0px;"><span id="MJXc-Node-2966" class="mjx-mlabeledtr" style="height: 6.746em;"><span id="MJXc-Node-2970" class="mjx-mtd" style="padding: 0px; width: 28.361em;"><span id="MJXc-Node-2971" class="mjx-mrow"><span id="MJXc-Node-2972" class="mjx-mtable" style="vertical-align: -3.123em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-2973" class="mjx-mtr" style="height: 2.375em;"><span id="MJXc-Node-2974" class="mjx-mtd" style="padding: 0px; text-align: right; width: 9.506em;"><span id="MJXc-Node-2975" class="mjx-mrow" style="margin-top: 0.391em;"><span id="MJXc-Node-2976" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2977" class="mjx-texatom"><span id="MJXc-Node-2978" class="mjx-mrow"><span id="MJXc-Node-2979" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.16em; padding-bottom: 0.37em;">r</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span id="MJXc-Node-2980" class="mjx-texatom" style=""><span id="MJXc-Node-2981" class="mjx-mrow"><span id="MJXc-Node-2982" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">between</span></span></span></span></span></span><span id="MJXc-Node-2983" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-2984" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2985" class="mjx-texatom"><span id="MJXc-Node-2986" class="mjx-mrow"><span id="MJXc-Node-2987" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2988" class="mjx-texatom" style=""><span id="MJXc-Node-2989" class="mjx-mrow"><span id="MJXc-Node-2990" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-2991" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-2992" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2993" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span><span id="MJXc-Node-2994" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-2995" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-2996" class="mjx-texatom"><span id="MJXc-Node-2997" class="mjx-mrow"><span id="MJXc-Node-2998" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-2999" class="mjx-texatom" style=""><span id="MJXc-Node-3000" class="mjx-mrow"><span id="MJXc-Node-3001" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3002" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3003" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3004" class="mjx-texatom" style=""><span id="MJXc-Node-3005" class="mjx-mrow"><span id="MJXc-Node-3006" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3007" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3008" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3009" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span class="mjx-strut"></span></span></span><span id="MJXc-Node-3010" class="mjx-mtd" style="padding: 0px; text-align: left; width: 18.522em;"><span id="MJXc-Node-3011" class="mjx-mrow"><span id="MJXc-Node-3012" class="mjx-mi"></span><span id="MJXc-Node-3013" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-3014" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-3015" class="mjx-mrow"><span id="MJXc-Node-3016" class="mjx-mo" style="vertical-align: -0.401em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em; margin-bottom: -0.248em;">∣</span><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em; margin-top: -0.248em;">∣</span></span></span><span id="MJXc-Node-3017" class="mjx-mrow"><span id="MJXc-Node-3018" class="mjx-mo" style="vertical-align: -0.401em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em; margin-bottom: -0.248em;">∣</span><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em; margin-top: -0.248em;">∣</span></span></span><span id="MJXc-Node-3019" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">Log</span></span><span id="MJXc-Node-3020" class="mjx-mrow MJXc-space1"><span id="MJXc-Node-3021" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">(</span></span><span id="MJXc-Node-3022" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-3023" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3024" class="mjx-texatom"><span id="MJXc-Node-3025" class="mjx-mrow"><span id="MJXc-Node-3026" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3041" class="mjx-texatom" style=""><span id="MJXc-Node-3042" class="mjx-mrow"><span id="MJXc-Node-3043" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3044" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3027" class="mjx-texatom" style=""><span id="MJXc-Node-3028" class="mjx-mrow"><span id="MJXc-Node-3029" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3030" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3031" class="mjx-texatom" style=""><span id="MJXc-Node-3032" class="mjx-mrow"><span id="MJXc-Node-3033" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-3034" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3035" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3036" class="mjx-texatom" style=""><span id="MJXc-Node-3037" class="mjx-mrow"><span id="MJXc-Node-3038" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3039" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3040" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3045" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-3046" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3047" class="mjx-texatom"><span id="MJXc-Node-3048" class="mjx-mrow"><span id="MJXc-Node-3049" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3056" class="mjx-texatom" style=""><span id="MJXc-Node-3057" class="mjx-mrow"><span id="MJXc-Node-3058" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3059" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3050" class="mjx-texatom" style=""><span id="MJXc-Node-3051" class="mjx-mrow"><span id="MJXc-Node-3052" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3053" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3054" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3055" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3060" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-3061" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3062" class="mjx-texatom"><span id="MJXc-Node-3063" class="mjx-mrow"><span id="MJXc-Node-3064" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3065" class="mjx-texatom" style=""><span id="MJXc-Node-3066" class="mjx-mrow"><span id="MJXc-Node-3067" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3068" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3069" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3070" class="mjx-texatom" style=""><span id="MJXc-Node-3071" class="mjx-mrow"><span id="MJXc-Node-3072" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3073" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3074" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3075" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">)</span></span></span><span id="MJXc-Node-3076" class="mjx-mo" style="vertical-align: -0.401em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em; margin-bottom: -0.248em;">∣</span><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em; margin-top: -0.248em;">∣</span></span></span></span><span id="MJXc-Node-3077" class="mjx-mo" style="vertical-align: -0.401em;"><span class="mjx-delim-v"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em; margin-bottom: -0.248em;">∣</span><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em; margin-top: -0.248em;">∣</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.71em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 1.547em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3083" class="mjx-texatom" style=""><span id="MJXc-Node-3084" class="mjx-mrow"><span id="MJXc-Node-3085" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3078" class="mjx-texatom" style=""><span id="MJXc-Node-3079" class="mjx-mrow"><span id="MJXc-Node-3080" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3081" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3082" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-3086" class="mjx-mtr" style="height: 2.372em;"><span id="MJXc-Node-3087" class="mjx-mtd" style="padding: 0.15em 0px 0px; text-align: right;"><span id="MJXc-Node-3088" class="mjx-mrow" style="margin-top: 0.398em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-3089" class="mjx-mtd" style="padding: 0.15em 0px 0px; text-align: left;"><span id="MJXc-Node-3090" class="mjx-mrow"><span id="MJXc-Node-3091" class="mjx-mi"></span><span id="MJXc-Node-3092" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-3093" class="mjx-mtext MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">Log</span></span><span id="MJXc-Node-3094" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3095" class="mjx-mrow"><span id="MJXc-Node-3096" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">(</span></span><span id="MJXc-Node-3097" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-3098" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3099" class="mjx-texatom"><span id="MJXc-Node-3100" class="mjx-mrow"><span id="MJXc-Node-3101" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3116" class="mjx-texatom" style=""><span id="MJXc-Node-3117" class="mjx-mrow"><span id="MJXc-Node-3118" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3119" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3102" class="mjx-texatom" style=""><span id="MJXc-Node-3103" class="mjx-mrow"><span id="MJXc-Node-3104" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3105" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3106" class="mjx-texatom" style=""><span id="MJXc-Node-3107" class="mjx-mrow"><span id="MJXc-Node-3108" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-3109" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3110" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3111" class="mjx-texatom" style=""><span id="MJXc-Node-3112" class="mjx-mrow"><span id="MJXc-Node-3113" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3114" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3115" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3120" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-3121" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3122" class="mjx-texatom"><span id="MJXc-Node-3123" class="mjx-mrow"><span id="MJXc-Node-3124" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3131" class="mjx-texatom" style=""><span id="MJXc-Node-3132" class="mjx-mrow"><span id="MJXc-Node-3133" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3134" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3125" class="mjx-texatom" style=""><span id="MJXc-Node-3126" class="mjx-mrow"><span id="MJXc-Node-3127" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3128" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3129" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3130" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3135" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-3136" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3137" class="mjx-texatom"><span id="MJXc-Node-3138" class="mjx-mrow"><span id="MJXc-Node-3139" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3140" class="mjx-texatom" style=""><span id="MJXc-Node-3141" class="mjx-mrow"><span id="MJXc-Node-3142" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3143" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3144" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3145" class="mjx-texatom" style=""><span id="MJXc-Node-3146" class="mjx-mrow"><span id="MJXc-Node-3147" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3148" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3149" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3150" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">)</span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 1.276em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3151" class="mjx-texatom" style=""><span id="MJXc-Node-3152" class="mjx-mrow"><span id="MJXc-Node-3153" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.12em;">T</span></span></span></span></span></span><span id="MJXc-Node-3154" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-3155" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3156" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3158" class="mjx-texatom" style=""><span id="MJXc-Node-3159" class="mjx-mrow"><span id="MJXc-Node-3160" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3161" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3157" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-3162" class="mjx-mtr" style="height: 1.999em;"><span id="MJXc-Node-3163" class="mjx-mtd" style="padding: 0.15em 0px 0px; text-align: right;"><span id="MJXc-Node-3164" class="mjx-mrow" style="margin-top: 0.175em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-3165" class="mjx-mtd" style="padding: 0.15em 0px 0px; text-align: left;"><span id="MJXc-Node-3166" class="mjx-mrow"><span id="MJXc-Node-3167" class="mjx-mspace" style="width: 2em; height: 0px;"></span><span id="MJXc-Node-3168" class="mjx-mspace" style="width: 2em; height: 0px;"></span><span id="MJXc-Node-3169" class="mjx-mspace" style="width: 2em; height: 0px;"></span><span id="MJXc-Node-3170" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">Log</span></span><span id="MJXc-Node-3171" class="mjx-mrow MJXc-space1"><span id="MJXc-Node-3172" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">(</span></span><span id="MJXc-Node-3173" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Δ</span></span><span id="MJXc-Node-3174" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3175" class="mjx-texatom"><span id="MJXc-Node-3176" class="mjx-mrow"><span id="MJXc-Node-3177" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3192" class="mjx-texatom" style=""><span id="MJXc-Node-3193" class="mjx-mrow"><span id="MJXc-Node-3194" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3195" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3178" class="mjx-texatom" style=""><span id="MJXc-Node-3179" class="mjx-mrow"><span id="MJXc-Node-3180" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3181" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3182" class="mjx-texatom" style=""><span id="MJXc-Node-3183" class="mjx-mrow"><span id="MJXc-Node-3184" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span id="MJXc-Node-3185" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3186" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3187" class="mjx-texatom" style=""><span id="MJXc-Node-3188" class="mjx-mrow"><span id="MJXc-Node-3189" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3190" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3191" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3196" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-3197" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3198" class="mjx-texatom"><span id="MJXc-Node-3199" class="mjx-mrow"><span id="MJXc-Node-3200" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3207" class="mjx-texatom" style=""><span id="MJXc-Node-3208" class="mjx-mrow"><span id="MJXc-Node-3209" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3210" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3201" class="mjx-texatom" style=""><span id="MJXc-Node-3202" class="mjx-mrow"><span id="MJXc-Node-3203" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3204" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3205" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3206" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3211" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-3212" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3213" class="mjx-texatom"><span id="MJXc-Node-3214" class="mjx-mrow"><span id="MJXc-Node-3215" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3216" class="mjx-texatom" style=""><span id="MJXc-Node-3217" class="mjx-mrow"><span id="MJXc-Node-3218" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3219" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3220" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3221" class="mjx-texatom" style=""><span id="MJXc-Node-3222" class="mjx-mrow"><span id="MJXc-Node-3223" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3224" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3225" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3226" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.948em; padding-bottom: 0.948em;">)</span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 6.746em;"><span id="mjx-eqn-29" class="mjx-mtd"><span id="MJXc-Node-2968" class="mjx-mrow" style="margin-top: 2.623em;"><span id="MJXc-Node-2969" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(29)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-29"><mtext>(29)</mtext></mtd><mtd><mtable columnalign="right left" rowspacing="3pt" columnspacing="0em" displaystyle="true"><mtr><mtd><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">r</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>between</mtext></mrow></msub><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo stretchy="false">)</mo></mtd><mtd><mi></mi><mo>=</mo><msubsup><mrow><mo>|</mo><mrow><mo>|</mo><mtext>Log</mtext><mrow><mo>(</mo><mi mathvariant="normal">Δ</mi><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>)</mo></mrow><mo>|</mo></mrow><mo>|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi mathvariant="normal">Σ</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow></msubsup></mtd></mtr><mtr><mtd></mtd><mtd><mi></mi><mo>=</mo><mtext>Log</mtext><msup><mrow><mo>(</mo><mi mathvariant="normal">Δ</mi><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>)</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mtext>&nbsp;</mtext><msubsup><mi mathvariant="normal">Σ</mi><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup></mtd></mtr><mtr><mtd></mtd><mtd><mspace width="2em"></mspace><mspace width="2em"></mspace><mspace width="2em"></mspace><mtext>Log</mtext><mrow><mo>(</mo><mi mathvariant="normal">Δ</mi><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msubsup><mtext>&nbsp;</mtext><msub><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></msub><mo>)</mo></mrow></mtd></mtr></mtable></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-173">\begin{equation}
\begin{split}
\mathbf{r}_{\text{between}}(\mathbf{T}_{WB_i}, \mathbf{T}_{WB_{i+1}}) &= \left|\left| \text{Log}\left( \Delta\mathbf{T}_{B_{i} B_{i+1}}^{-1}\ \mathbf{T}_{WB_i}^{-1} \  \mathbf{T}_{WB_{i+1}} \right)\right|\right|^{2}_{\Sigma_i} \\
& =
\text{Log}\left( \Delta\mathbf{T}_{B_{i} B_{i+1}}^{-1}\ \mathbf{T}_{WB_i}^{-1} \  \mathbf{T}_{WB_{i+1}} \right)^{T} \ \Sigma_i^{-1} \\
& \qquad \qquad \qquad \text{Log}\left( \Delta\mathbf{T}_{B_{i} B_{i+1}}^{-1}\ \mathbf{T}_{WB_i}^{-1} \  \mathbf{T}_{WB_{i+1}} \right)
\end{split}
\end{equation}</script>

<p>The factor is now a nonlinear vector expression that can be solved using the nonlinear optimization techniques we presented before. In fact, GTSAM already implements Jacobians for the <strong>local</strong> operator of all the objects implemented, which simplifies the process. However, there are subtle differences that we must clarify.</p>

<p>First, since the factor defines a residual in the tangent space at the current linearization point, the optimization itself is executed <strong>in the tangent space defined in the current linearization point</strong>. This means that when we linearize the factors and build the normal equations, the increment <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-174-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x03B4;&lt;/mi&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-3227" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-3228" class="mjx-mrow"><span id="MJXc-Node-3229" class="mjx-texatom"><span id="MJXc-Node-3230" class="mjx-mrow"><span id="MJXc-Node-3231" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3232" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3233" class="mjx-texatom" style=""><span id="MJXc-Node-3234" class="mjx-mrow"><span id="MJXc-Node-3235" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3236" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3237" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3238" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.007em;">δ</span></span><span id="MJXc-Node-3239" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3240" class="mjx-texatom"><span id="MJXc-Node-3241" class="mjx-mrow"><span id="MJXc-Node-3242" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.604em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3243" class="mjx-texatom" style=""><span id="MJXc-Node-3244" class="mjx-mrow"><span id="MJXc-Node-3245" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mi>δ</mi><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-174">{_{B_i}}\delta\mathbf{T}^{k}</script> we compute lies in the tangent space.</p>

<p>For this reason, we need to update the variables <em>on the manifold</em> using the retraction. For example, for <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-175-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mtext&gt;SE(3)&lt;/mtext&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-3246" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-3247" class="mjx-mrow"><span id="MJXc-Node-3248" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">SE(3)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>SE(3)</mtext></math></span></span><script type="math/tex" id="MathJax-Element-175">\text{SE(3)}</script>:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-176-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 10.922em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-30&quot;&gt;&lt;mtext&gt;(30)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mover&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;mo mathvariant=&quot;bold&quot; stretchy=&quot;false&quot;&gt;&amp;#x007E;&lt;/mo&gt;&lt;/mover&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msubsup&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x03B4;&lt;/mi&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-3249" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-3250" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-3251" class="mjx-mtable" style="width: 100%; min-width: 16.078em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.142em;"><span id="MJXc-Node-3252" class="mjx-mlabeledtr" style="height: 1.591em;"><span id="MJXc-Node-3256" class="mjx-mtd" style="padding: 0px; width: 10.922em;"><span id="MJXc-Node-3257" class="mjx-mrow"><span id="MJXc-Node-3258" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3259" class="mjx-texatom"><span id="MJXc-Node-3260" class="mjx-mrow"><span id="MJXc-Node-3261" class="mjx-texatom"><span id="MJXc-Node-3262" class="mjx-mrow"><span id="MJXc-Node-3263" class="mjx-munderover"><span class="mjx-stack"><span class="mjx-over" style="height: 0.192em; padding-bottom: 0.06em; padding-left: 0.113em;"><span id="MJXc-Node-3265" class="mjx-mo" style="vertical-align: top;"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.055em; padding-bottom: 0.37em;">~</span></span></span><span class="mjx-op"><span id="MJXc-Node-3264" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span></span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.247em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.495em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3272" class="mjx-texatom" style=""><span id="MJXc-Node-3273" class="mjx-mrow"><span id="MJXc-Node-3274" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3275" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3276" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3266" class="mjx-texatom" style=""><span id="MJXc-Node-3267" class="mjx-mrow"><span id="MJXc-Node-3268" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3269" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3270" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3271" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3277" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-3278" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-3279" class="mjx-texatom"><span id="MJXc-Node-3280" class="mjx-mrow"><span id="MJXc-Node-3281" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.279em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3288" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3282" class="mjx-texatom" style=""><span id="MJXc-Node-3283" class="mjx-mrow"><span id="MJXc-Node-3284" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3285" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3286" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3287" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3289" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.528em;">Exp</span></span><span id="MJXc-Node-3290" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-3291" class="mjx-texatom"><span id="MJXc-Node-3292" class="mjx-mrow"><span id="MJXc-Node-3293" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3294" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3295" class="mjx-texatom" style=""><span id="MJXc-Node-3296" class="mjx-mrow"><span id="MJXc-Node-3297" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3298" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3299" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3300" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.007em;">δ</span></span><span id="MJXc-Node-3301" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3302" class="mjx-texatom"><span id="MJXc-Node-3303" class="mjx-mrow"><span id="MJXc-Node-3304" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.604em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3305" class="mjx-texatom" style=""><span id="MJXc-Node-3306" class="mjx-mrow"><span id="MJXc-Node-3307" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span></span></span></span></span><span id="MJXc-Node-3308" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.591em;"><span id="mjx-eqn-30" class="mjx-mtd"><span id="MJXc-Node-3254" class="mjx-mrow" style="margin-top: 0.187em;"><span id="MJXc-Node-3255" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(30)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-30"><mtext>(30)</mtext></mtd><mtd><msubsup><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mover><mi mathvariant="bold">T</mi><mo mathvariant="bold" stretchy="false">~</mo></mover></mrow></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo>=</mo><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mi>k</mi></msubsup><mtext>Exp</mtext><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><mi>δ</mi><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow></msup><mo stretchy="false">)</mo></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-176">\begin{equation}
\mathbf{\tilde{T}}_{WB_i}^{k+1} = \mathbf{T}_{WB_i}^k \text{Exp}( {_{B_i}}\delta\mathbf{T}^{k} )
\end{equation}</script>

<p>The second important point, is that the covariance that we can recover from the information matrix, <strong>will be also defined in the tangent space around the linearization point, following the convention of the retraction</strong>. It means that if our information matrix at the current linearization point is given by:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-177-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 11.842em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-31&quot;&gt;&lt;mtext&gt;(31)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;msup&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;H&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msup&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;msup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;H&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msup&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-3309" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-3310" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-3311" class="mjx-mtable" style="width: 100%; min-width: 16.998em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: -0.086em;"><span id="MJXc-Node-3312" class="mjx-mlabeledtr" style="height: 1.221em;"><span id="MJXc-Node-3316" class="mjx-mtd" style="padding: 0px; width: 11.842em;"><span id="MJXc-Node-3317" class="mjx-mrow" style="margin-top: -0.054em;"><span id="MJXc-Node-3318" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3319" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3320" class="mjx-texatom" style=""><span id="MJXc-Node-3321" class="mjx-mrow"><span id="MJXc-Node-3322" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3323" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3324" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-3325" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-3326" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-3327" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-3328" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3329" class="mjx-texatom"><span id="MJXc-Node-3330" class="mjx-mrow"><span id="MJXc-Node-3331" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">H</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.619em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3332" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span></span></span><span id="MJXc-Node-3333" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3334" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3335" class="mjx-texatom" style=""><span id="MJXc-Node-3336" class="mjx-mrow"><span id="MJXc-Node-3337" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.12em;">T</span></span></span></span></span></span><span id="MJXc-Node-3338" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-3339" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3340" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3341" class="mjx-texatom" style=""><span id="MJXc-Node-3342" class="mjx-mrow"><span id="MJXc-Node-3343" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span></span></span></span></span><span id="MJXc-Node-3344" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3345" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3346" class="mjx-texatom" style=""><span id="MJXc-Node-3347" class="mjx-mrow"><span id="MJXc-Node-3348" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3349" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-3350" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3351" class="mjx-texatom"><span id="MJXc-Node-3352" class="mjx-mrow"><span id="MJXc-Node-3353" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">H</span></span></span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.619em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3354" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span></span></span><span id="MJXc-Node-3355" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3356" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3357" class="mjx-texatom" style=""><span id="MJXc-Node-3358" class="mjx-mrow"><span id="MJXc-Node-3359" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-3360" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.221em;"><span id="mjx-eqn-31" class="mjx-mtd"><span id="MJXc-Node-3314" class="mjx-mrow" style="margin-top: -0.054em;"><span id="MJXc-Node-3315" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(31)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-31"><mtext>(31)</mtext></mtd><mtd><msup><mi mathvariant="normal">Σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">H</mi></mrow><mi>k</mi></msup><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mo stretchy="false">(</mo><msup><mi mathvariant="normal">Σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi></mrow></msup><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msup><msup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">H</mi></mrow><mi>k</mi></msup><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1</mn></mrow></msup></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-177">\begin{equation}
\Sigma^{k+1} = ((\mathbf{H}^k)^{T} (\Sigma^{k})^{-1} \mathbf{H}^k)^{-1}
\end{equation}</script>

<p>Then, the corresponding distribution of the solution around the current linearization point <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-178-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-3361" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-3362" class="mjx-mrow"><span id="MJXc-Node-3363" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3364" class="mjx-texatom"><span id="MJXc-Node-3365" class="mjx-mrow"><span id="MJXc-Node-3366" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3373" class="mjx-texatom" style=""><span id="MJXc-Node-3374" class="mjx-mrow"><span id="MJXc-Node-3375" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3376" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3377" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3367" class="mjx-texatom" style=""><span id="MJXc-Node-3368" class="mjx-mrow"><span id="MJXc-Node-3369" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3370" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3371" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3372" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msubsup></math></span></span><script type="math/tex" id="MathJax-Element-178">\mathbf{T}_{WB_i}^{k+1}</script> will be given by:</p>

<span class="MathJax_Preview" style="color: inherit;"></span><span class="mjx-chtml MJXc-display"><span id="MathJax-Element-179-Frame" class="mjx-full-width mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; min-width: 18.959em; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable displaystyle=&quot;true&quot;&gt;&lt;mlabeledtr&gt;&lt;mtd id=&quot;mjx-eqn-32&quot;&gt;&lt;mtext&gt;(32)&lt;/mtext&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msup&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;:=&lt;/mo&gt;&lt;msubsup&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi mathvariant=&quot;bold&quot;&gt;T&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msubsup&gt;&lt;mtext&gt;Exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;msup&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mtd&gt;&lt;/mlabeledtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-3378" class="mjx-math" style="width: 100%;" aria-hidden="true"><span id="MJXc-Node-3379" class="mjx-mrow" style="width: 100%;"><span id="MJXc-Node-3380" class="mjx-mtable" style="width: 100%; min-width: 24.115em;"><span class="mjx-box" style="width: 100%; text-align: center;"><span class="mjx-table" style="display: inline-table; width: auto; vertical-align: 0.007em;"><span id="MJXc-Node-3381" class="mjx-mlabeledtr" style="height: 1.389em;"><span id="MJXc-Node-3385" class="mjx-mtd" style="padding: 0px; width: 18.959em;"><span id="MJXc-Node-3386" class="mjx-mrow" style="margin-top: -0.062em;"><span id="MJXc-Node-3387" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em;">G</span></span><span id="MJXc-Node-3388" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-3389" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">u</span></span><span id="MJXc-Node-3390" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-3391" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-3392" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3393" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-3394" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-3395" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-3396" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3397" class="mjx-texatom"><span id="MJXc-Node-3398" class="mjx-mrow"><span id="MJXc-Node-3399" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3406" class="mjx-texatom" style=""><span id="MJXc-Node-3407" class="mjx-mrow"><span id="MJXc-Node-3408" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3409" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3410" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3400" class="mjx-texatom" style=""><span id="MJXc-Node-3401" class="mjx-mrow"><span id="MJXc-Node-3402" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3403" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3404" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3405" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3411" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-3412" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-3413" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3414" class="mjx-texatom" style=""><span id="MJXc-Node-3415" class="mjx-mrow"><span id="MJXc-Node-3416" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3417" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3418" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-3419" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-3420" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">:<span class="mjx-charbox MJXc-TeX-main-R" style="padding-bottom: 0.314em;">=</span></span></span><span id="MJXc-Node-3421" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-3422" class="mjx-texatom"><span id="MJXc-Node-3423" class="mjx-mrow"><span id="MJXc-Node-3424" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.37em; padding-bottom: 0.37em;">T</span></span></span></span></span><span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3431" class="mjx-texatom" style=""><span id="MJXc-Node-3432" class="mjx-mrow"><span id="MJXc-Node-3433" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3434" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3435" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-3425" class="mjx-texatom" style=""><span id="MJXc-Node-3426" class="mjx-mrow"><span id="MJXc-Node-3427" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.104em;">W</span></span><span id="MJXc-Node-3428" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3429" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3430" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3436" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.528em;">Exp</span></span><span id="MJXc-Node-3437" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-3438" class="mjx-texatom"><span id="MJXc-Node-3439" class="mjx-mrow"><span id="MJXc-Node-3440" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3441" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3442" class="mjx-texatom" style=""><span id="MJXc-Node-3443" class="mjx-mrow"><span id="MJXc-Node-3444" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3445" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3446" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3447" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-3448" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0.082em; padding-right: 0.071em;"><span id="MJXc-Node-3449" class="mjx-texatom" style=""><span id="MJXc-Node-3450" class="mjx-mrow"><span id="MJXc-Node-3451" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3452" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3453" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-3454" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span class="mjx-strut"></span></span></span></span></span></span><span class="mjx-itable" style="vertical-align: top; margin-left: -1.778em;"><span class="mjx-label" style="height: 1.389em;"><span id="mjx-eqn-32" class="mjx-mtd"><span id="MJXc-Node-3383" class="mjx-mrow" style="margin-top: -0.062em;"><span id="MJXc-Node-3384" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(32)</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true"><mlabeledtr><mtd id="mjx-eqn-32"><mtext>(32)</mtext></mtd><mtd><mi>G</mi><mi>a</mi><mi>u</mi><mi>s</mi><mi>s</mi><mi>i</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo>,</mo><msup><mi mathvariant="normal">Σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo><mo>:=</mo><msubsup><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="bold">T</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>W</mi><msub><mi>B</mi><mi>i</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mtext>Exp</mtext><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><msup><mi>η</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mtd></mlabeledtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-179">\begin{equation}
Gaussian(\mathbf{T}_{WB_i}^{k+1}, \Sigma^{k+1}) := \mathbf{T}_{WB_i}^{k+1} \text{Exp}( {_{B_i}}\eta^{k+1} )
\end{equation}</script>

<p>where <span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-180-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" style="font-size: 119%; position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;msup&gt;&lt;mi&gt;&amp;#x03B7;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;&amp;#x223C;&lt;/mo&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn mathvariant=&quot;bold&quot;&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo&gt;&amp;#x00D7;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;msup&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x03A3;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation"><span id="MJXc-Node-3455" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-3456" class="mjx-mrow"><span id="MJXc-Node-3457" class="mjx-texatom"><span id="MJXc-Node-3458" class="mjx-mrow"><span id="MJXc-Node-3459" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3460" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3461" class="mjx-texatom" style=""><span id="MJXc-Node-3462" class="mjx-mrow"><span id="MJXc-Node-3463" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3464" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3465" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3466" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span id="MJXc-Node-3467" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.006em;">η</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.082em; padding-right: 0.071em;"><span id="MJXc-Node-3468" class="mjx-texatom" style=""><span id="MJXc-Node-3469" class="mjx-mrow"><span id="MJXc-Node-3470" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3471" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3472" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-3473" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">∼</span></span><span id="MJXc-Node-3474" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em;">G</span></span><span id="MJXc-Node-3475" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-3476" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">u</span></span><span id="MJXc-Node-3477" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-3478" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-3479" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-3480" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-3481" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-3482" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-3483" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3484" class="mjx-texatom"><span id="MJXc-Node-3485" class="mjx-mrow"><span id="MJXc-Node-3486" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.318em; padding-bottom: 0.37em;">0</span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3487" class="mjx-texatom" style=""><span id="MJXc-Node-3488" class="mjx-mrow"><span id="MJXc-Node-3489" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.37em;">6</span></span><span id="MJXc-Node-3490" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.318em;">×</span></span><span id="MJXc-Node-3491" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-3492" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-3493" class="mjx-texatom MJXc-space1"><span id="MJXc-Node-3494" class="mjx-mrow"><span id="MJXc-Node-3495" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3496" class="mjx-mi"><span class="mjx-char"></span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3497" class="mjx-texatom" style=""><span id="MJXc-Node-3498" class="mjx-mrow"><span id="MJXc-Node-3499" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3500" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">B</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-3501" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span></span></span></span></span><span id="MJXc-Node-3502" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-3503" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.318em;">Σ</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-3504" class="mjx-texatom" style=""><span id="MJXc-Node-3505" class="mjx-mrow"><span id="MJXc-Node-3506" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">k</span></span><span id="MJXc-Node-3507" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-3508" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-3509" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><msup><mi>η</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>∼</mo><mi>G</mi><mi>a</mi><mi>u</mi><mi>s</mi><mi>s</mi><mi>i</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><msub><mrow class="MJX-TeXAtom-ORD"><mn mathvariant="bold">0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>6</mn><mo>×</mo><mn>1</mn></mrow></msub><mo>,</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi></mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>B</mi><mi>i</mi></msub></mrow></msub></mrow><msup><mi mathvariant="normal">Σ</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-180">{_{B_i}}\eta^{k+1} \sim Gaussian(\mathbf{0}_{6\times1}, {_{B_i}}\Sigma^{k+1})</script>. As a consequence of the convention on the retraction, <strong>the resulting covariance is expressed in the body frame as well, and uses orientation-then-translation for the ordering of the covariance matrix</strong>.</p>

<h2 id="conclusions">Conclusions</h2>
<p>In this second part we extended the estimation framework presented previously by introducing the reference frames in an explicit manner into our notation, which helped to understand the meaning of the quantities.</p>

<p>We also reviewed the concept of groups of manifolds. We discussed that manifolds are the essential concept to generalize the optimization framework and probability distributions as defined in GTSAM.</p>

<p>We presented the idea of <em>right-hand</em> and <em>left-hand</em> conventions which, while not standard, allowed us to identify different formulations that can be found in the literature to operate groups and manifolds. By explicitly stating that GTSAM uses a right-hand convention for the composition of groups as well as retractions on manifolds we could identify the frames used to define the variables, as well as the covariance we obtain from the solution via  <code class="language-plaintext highlighter-rouge">Marginals</code>.</p>

<p>Additionally, the definition of the local and retract operations also have direct impact on the ordering of the covariance matrices, which also varies depending on the object. For instance, we discussed that <code class="language-plaintext highlighter-rouge">Pose2</code> use a <em>translation-then-orientation</em> convention, while <code class="language-plaintext highlighter-rouge">Pose3</code> does <em>orientation-then-translation</em>. This is particularly important when we want to use GTSAM quantities with different software, such as ROS, which use a <em>translation-then-orientation</em> convention for their 3D pose structures for instance (<a href="http://docs.ros.org/en/melodic/api/geometry_msgs/html/msg/PoseWithCovariance.html"><code class="language-plaintext highlighter-rouge">PoseWithCovariance</code></a>).</p>

<p>The <a href="https://gtsam.org/2021/02/23/uncertainties-part3.html">final post</a> will cover some final remarks regarding the conventions we defined and applications of the <em>adjoint</em> of a Lie group, which is quite useful to properly transform covariance matrices defined for poses.</p>

  </div>

</article>

  </div><a class="u-url" href="https://gtsam.org/2021/02/23/uncertainties-part2.html" hidden=""></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">GTSAM</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">GTSAM</li><li><a class="u-email" href="mailto:frank.dellaert@gtsam.org">frank.dellaert@gtsam.org</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/borglab"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">borglab</span></a></li><li><a href="https://www.twitter.com/gtsam4"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">gtsam4</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>GTSAM is a BSD-licensed C++ library that implements sensor fusion for robotics and computer vision using factor graphs.</p>
      </div>
    </div>

  </div>

</footer>
<!-- mathjax config from https://quuxplusone.github.io/blog/2018/08/05/mathjax-in-jekyll/ -->
    <script type="text/x-mathjax-config;executed=true">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        },
        extensions: [
          "MathMenu.js",
          "MathZoom.js",
          "AssistiveMML.js",
          "a11y/accessibility-menu.js"
        ],
        jax: ["input/TeX", "output/CommonHTML"],
        TeX: {
          extensions: [
            "AMSmath.js",
            "AMSsymbols.js",
            "noErrors.js",
            "noUndefined.js",
          ],
          equationNumbers: {
            autoNumber: "AMS"
          },
          Macros: {
            homo: ['\\ensuremath{\\tilde{\\mathbf{#1}}}', 1],
            norm: ['\\ensuremath{\\vert \\vert #1 \\vert \\vert}', 1],
            ensuremath: '',
          },
        }
      });
      MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
        MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
          cancel: ["Extension","cancel"],
          bcancel: ["Extension","cancel"],
          xcancel: ["Extension","cancel"],
          cancelto: ["Extension","cancel"]
        });
      });
    </script>
    <script type="text/javascript" async="" src="./Reducing the uncertainty about the uncertainties, part 2_ Frames and manifolds _ GTSAM_files/MathJax.js">
    </script>

  

</body></html>